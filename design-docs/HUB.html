<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TasarÄ±m Hub - Dark & Elegant</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'SF Pro Display', 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #0a0a0a;
            background-image: 
                radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(120, 219, 255, 0.2) 0%, transparent 50%);
            min-height: 100vh;
            color: #e2e8f0;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .header {
            background: linear-gradient(135deg, rgba(30, 30, 30, 0.9), rgba(20, 20, 20, 0.9));
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 40px;
            margin-bottom: 40px;
            box-shadow: 
                0 20px 40px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(120, 119, 198, 0.1), rgba(255, 119, 198, 0.1));
            opacity: 0.5;
            z-index: 0;
        }

        .header > * {
            position: relative;
            z-index: 1;
        }

        .header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            color: #ffffff;
            margin-bottom: 8px;
            letter-spacing: -0.02em;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
        }

        .header p {
            font-size: 1.1rem;
            color: #a0aec0;
            margin-bottom: 32px;
            font-weight: 400;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 16px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .stat-number {
            font-size: 2rem;
            font-weight: 700;
            color: #ffffff;
            display: block;
            margin-bottom: 4px;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
        }

        .stat-label {
            font-size: 0.875rem;
            color: #a0aec0;
            font-weight: 500;
        }

        .search-section {
            background: rgba(30, 30, 30, 0.9);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 40px;
            box-shadow: 
                0 10px 30px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        .search-box {
            width: 100%;
            padding: 16px 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            font-size: 1rem;
            background: rgba(255, 255, 255, 0.05);
            color: #e2e8f0;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .search-box::placeholder {
            color: #718096;
        }

        .search-box:focus {
            outline: none;
            border-color: rgba(120, 119, 198, 0.5);
            background: rgba(255, 255, 255, 0.1);
            box-shadow: 
                0 0 20px rgba(120, 119, 198, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        .categories {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 32px;
        }

        .category {
            background: rgba(30, 30, 30, 0.9);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 24px;
            box-shadow: 
                0 10px 30px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .category::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, rgba(120, 119, 198, 0.8), rgba(255, 119, 198, 0.8), rgba(120, 219, 255, 0.8));
        }

        .category:hover {
            transform: translateY(-4px);
            box-shadow: 
                0 20px 40px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.2);
        }

        .category-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 16px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .category-icon {
            font-size: 1.5rem;
            margin-right: 12px;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.5));
        }

        .category-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: #ffffff;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
        }

        .component-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: 12px;
        }

        .component-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 16px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .component-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: all 0.5s ease;
        }

        .component-card:hover::before {
            left: 100%;
        }

        .component-card:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(120, 119, 198, 0.5);
            transform: translateY(-2px);
            box-shadow: 
                0 10px 30px rgba(0, 0, 0, 0.3),
                0 0 20px rgba(120, 119, 198, 0.2);
        }

        .component-name {
            font-weight: 600;
            margin-bottom: 6px;
            color: #ffffff;
            font-size: 0.875rem;
            text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
        }

        .component-description {
            font-size: 0.75rem;
            color: #a0aec0;
            margin-bottom: 12px;
            line-height: 1.4;
        }

        .component-status {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 8px;
            font-size: 0.75rem;
            font-weight: 500;
            margin-bottom: 8px;
            backdrop-filter: blur(10px);
        }

        .status-pending {
            background: rgba(255, 193, 7, 0.2);
            color: #ffd700;
            border: 1px solid rgba(255, 193, 7, 0.3);
        }

        .status-approved {
            background: rgba(34, 197, 94, 0.2);
            color: #4ade80;
            border: 1px solid rgba(34, 197, 94, 0.3);
        }

        .status-not-started {
            background: rgba(239, 68, 68, 0.2);
            color: #f87171;
            border: 1px solid rgba(239, 68, 68, 0.3);
        }

        .design-button {
            background: linear-gradient(135deg, rgba(120, 119, 198, 0.8), rgba(255, 119, 198, 0.8));
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 15px rgba(120, 119, 198, 0.3);
        }

        .design-button:hover {
            background: linear-gradient(135deg, rgba(120, 119, 198, 1), rgba(255, 119, 198, 1));
            transform: translateY(-1px);
            box-shadow: 0 6px 20px rgba(120, 119, 198, 0.4);
        }

        .design-button:disabled {
            background: rgba(255, 255, 255, 0.1);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .action-btn.variants {
            background: linear-gradient(135deg, rgba(34, 197, 94, 0.8), rgba(16, 185, 129, 0.8));
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            margin-top: 8px;
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 15px rgba(34, 197, 94, 0.3);
        }

        .action-btn.variants:hover {
            background: linear-gradient(135deg, rgba(34, 197, 94, 1), rgba(16, 185, 129, 1));
            transform: translateY(-1px);
            box-shadow: 0 6px 20px rgba(34, 197, 94, 0.4);
        }

        .component-buttons {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .footer {
            background: rgba(30, 30, 30, 0.9);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 24px;
            margin-top: 40px;
            text-align: center;
            box-shadow: 
                0 10px 30px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        .footer p {
            color: #a0aec0;
            margin-bottom: 8px;
            font-size: 0.875rem;
        }

        .footer a {
            color: #7877c6;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .footer a:hover {
            color: #ffffff;
            text-decoration: underline;
            text-shadow: 0 0 10px rgba(120, 119, 198, 0.5);
        }

        /* Variant Management Styles */
        .variant-section {
            margin-top: 24px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .variant-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }

        .variant-title {
            font-size: 1rem;
            font-weight: 600;
            color: #ffffff;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .variant-badge {
            background: rgba(120, 119, 198, 0.2);
            color: #7877c6;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: 500;
        }

        .variant-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 16px;
        }

        .variant-card {
            background: rgba(20, 20, 20, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 16px;
            transition: all 0.3s ease;
        }

        .variant-card:hover {
            border-color: rgba(120, 119, 198, 0.4);
            background: rgba(25, 25, 25, 0.9);
        }

        .variant-type {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 12px;
        }

        .variant-type-badge {
            padding: 4px 8px;
            border-radius: 6px;
            font-size: 0.7rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .variant-type-badge.havali {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
        }

        .variant-type-badge.sade {
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            color: white;
        }

        .variant-type-badge.detayli {
            background: linear-gradient(135deg, #a29bfe, #6c5ce7);
            color: white;
        }

        .variant-type-badge.gorsel {
            background: linear-gradient(135deg, #fd79a8, #e84393);
            color: white;
        }

        .variant-name {
            font-size: 0.9rem;
            font-weight: 500;
            color: #e2e8f0;
        }

        .variant-description {
            font-size: 0.8rem;
            color: #a0aec0;
            margin-bottom: 12px;
            line-height: 1.4;
        }

        .variant-actions {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 6px;
        }

        .variant-btn {
            padding: 6px 8px;
            border: none;
            border-radius: 4px;
            font-size: 0.7rem;
            cursor: pointer;
            transition: all 0.2s ease;
            background: rgba(255, 255, 255, 0.1);
            color: #e2e8f0;
            border: 1px solid rgba(255, 255, 255, 0.2);
            text-align: center;
        }

        .variant-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-1px);
        }

        .variant-btn.preview {
            background: rgba(0, 123, 255, 0.2);
            color: #007bff;
            border-color: rgba(0, 123, 255, 0.3);
        }

        .variant-btn.approve {
            background: rgba(40, 167, 69, 0.2);
            color: #28a745;
            border-color: rgba(40, 167, 69, 0.3);
        }

        .variant-btn.branch {
            background: rgba(255, 193, 7, 0.2);
            color: #ffc107;
            border-color: rgba(255, 193, 7, 0.3);
        }

        .variant-btn.tools {
            background: rgba(120, 119, 198, 0.2);
            color: #7877c6;
            border-color: rgba(120, 119, 198, 0.3);
        }

        .variant-btn.compare {
            background: rgba(255, 119, 198, 0.2);
            color: #ff77c6;
            border-color: rgba(255, 119, 198, 0.3);
        }

        .variant-btn.delete {
            background: rgba(220, 53, 69, 0.2);
            color: #dc3545;
            border-color: rgba(220, 53, 69, 0.3);
        }

        .level-indicator {
            display: flex;
            align-items: center;
            gap: 4px;
            margin-bottom: 8px;
        }

        /* Preview Modal Styles */
        .preview-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 10000;
            display: flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
        }

        .preview-container {
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            border-radius: 16px;
            padding: 0;
            max-width: 95vw;
            max-height: 95vh;
            overflow: hidden;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.7);
            border: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            flex-direction: column;
        }

        .preview-header {
            padding: 20px 24px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(0, 0, 0, 0.3);
        }

        .preview-title {
            color: #ffffff;
            font-size: 1.2rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .preview-variant-badge {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.875rem;
            font-weight: 500;
        }

        .preview-actions {
            display: flex;
            gap: 12px;
            align-items: center;
        }

        .preview-btn {
            padding: 8px 16px;
            border: none;
            border-radius: 8px;
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .preview-btn.close {
            background: rgba(220, 53, 69, 0.2);
            color: #dc3545;
            border: 1px solid rgba(220, 53, 69, 0.3);
        }

        .preview-btn.fullscreen {
            background: rgba(0, 123, 255, 0.2);
            color: #007bff;
            border: 1px solid rgba(0, 123, 255, 0.3);
        }

        .preview-btn.compare {
            background: rgba(255, 193, 7, 0.2);
            color: #ffc107;
            border: 1px solid rgba(255, 193, 7, 0.3);
        }

        .preview-content {
            flex: 1;
            padding: 24px;
            overflow: auto;
            background: #ffffff;
            color: #000000;
            min-height: 400px;
        }

        .preview-placeholder {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            min-height: 400px;
            text-align: center;
            color: #666666;
        }

        .preview-placeholder-icon {
            font-size: 4rem;
            margin-bottom: 16px;
            opacity: 0.5;
        }

        .preview-placeholder-text {
            font-size: 1.1rem;
            margin-bottom: 8px;
        }

        .preview-placeholder-desc {
            font-size: 0.9rem;
            opacity: 0.7;
        }

        /* Approval Modal Styles */
        .approval-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 15000;
            display: flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(8px);
            animation: approvalModalFadeIn 0.3s ease-out;
        }

        @keyframes approvalModalFadeIn {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .approval-container {
            background: white;
            border-radius: 16px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            max-width: 500px;
            width: 90%;
            max-height: 90vh;
            overflow: hidden;
            animation: approvalSlideUp 0.3s ease-out;
        }

        @keyframes approvalSlideUp {
            from {
                transform: translateY(30px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .approval-header {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 20px 24px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .approval-header h3 {
            margin: 0;
            font-size: 1.3rem;
            font-weight: 600;
        }

        .approval-close {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.2s ease;
        }

        .approval-close:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .approval-content {
            padding: 24px;
        }

        .approval-info {
            margin-bottom: 24px;
        }

        .approval-component {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
        }

        .approval-component strong {
            font-size: 1.2rem;
            color: #2d3748;
        }

        .approval-category {
            background: #e2e8f0;
            color: #4a5568;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .approval-variant {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .approval-variant-badge {
            padding: 6px 12px;
            border-radius: 16px;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .approval-variant-type {
            color: #718096;
            font-size: 0.9rem;
        }

        .approval-warning {
            background: #fef5e7;
            border: 1px solid #f6e05e;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 24px;
            display: flex;
            gap: 16px;
        }

        .approval-warning-icon {
            font-size: 1.5rem;
            flex-shrink: 0;
        }

        .approval-warning-text strong {
            color: #d69e2e;
            display: block;
            margin-bottom: 8px;
        }

        .approval-warning-text p {
            margin: 8px 0;
            color: #744210;
            font-size: 0.95rem;
        }

        .approval-warning-text ul {
            margin: 12px 0 0 0;
            padding-left: 20px;
            color: #744210;
        }

        .approval-warning-text li {
            margin-bottom: 6px;
            font-size: 0.9rem;
        }

        .approval-actions {
            display: flex;
            gap: 12px;
            justify-content: flex-end;
        }

        .approval-btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 0.95rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .approval-btn.cancel {
            background: #f7fafc;
            color: #4a5568;
            border: 1px solid #e2e8f0;
        }

        .approval-btn.cancel:hover {
            background: #edf2f7;
            border-color: #cbd5e0;
        }

        .approval-btn.confirm {
            background: linear-gradient(135deg, #48bb78, #38a169);
            color: white;
        }

        .approval-btn.confirm:hover {
            background: linear-gradient(135deg, #38a169, #2f855a);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(72, 187, 120, 0.3);
        }

        /* Approval Success Notification */
        .approval-success-notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            z-index: 20000;
            animation: approvalNotificationSlideIn 0.4s ease-out;
            border-left: 4px solid #48bb78;
        }

        @keyframes approvalNotificationSlideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .approval-success-content {
            padding: 20px;
            display: flex;
            align-items: flex-start;
            gap: 16px;
            max-width: 400px;
        }

        .approval-success-icon {
            font-size: 1.5rem;
            flex-shrink: 0;
        }

        .approval-success-text {
            flex: 1;
        }

        .approval-success-text strong {
            color: #2d3748;
            display: block;
            margin-bottom: 4px;
            font-size: 1rem;
        }

        .approval-success-text p {
            margin: 0 0 8px 0;
            color: #4a5568;
            font-size: 0.9rem;
        }

        .approval-success-details {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .approval-success-details span {
            font-size: 0.8rem;
            color: #718096;
        }

        .approval-success-content button {
            background: none;
            border: none;
            color: #a0aec0;
            cursor: pointer;
            font-size: 1.1rem;
            padding: 4px;
            border-radius: 4px;
            transition: color 0.2s ease;
        }

        .approval-success-content button:hover {
            color: #4a5568;
        }

        /* Branching Modal Styles */
        .branching-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 16000;
            display: flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(8px);
            animation: branchingModalFadeIn 0.3s ease-out;
        }

        @keyframes branchingModalFadeIn {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .branching-container {
            background: white;
            border-radius: 16px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            max-width: 700px;
            width: 95%;
            max-height: 90vh;
            overflow: hidden;
            animation: branchingSlideUp 0.3s ease-out;
        }

        @keyframes branchingSlideUp {
            from {
                transform: translateY(30px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .branching-header {
            background: linear-gradient(135deg, #48bb78, #38a169);
            color: white;
            padding: 20px 24px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .branching-header h3 {
            margin: 0;
            font-size: 1.3rem;
            font-weight: 600;
        }

        .branching-close {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.2s ease;
        }

        .branching-close:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .branching-content {
            padding: 24px;
            max-height: 60vh;
            overflow-y: auto;
        }

        .branching-info {
            margin-bottom: 24px;
        }

        .branching-parent {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
        }

        .branching-parent strong {
            font-size: 1.2rem;
            color: #2d3748;
        }

        .branching-parent-badge {
            background: #e2e8f0;
            color: #4a5568;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.9rem;
            font-weight: 500;
        }

        .branching-description {
            color: #718096;
            font-size: 0.95rem;
            line-height: 1.5;
        }

        .branching-options h4 {
            margin: 0 0 16px 0;
            color: #2d3748;
            font-size: 1.1rem;
        }

        .branching-types {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-bottom: 24px;
        }

        .branching-type {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 16px;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .branching-type:hover {
            border-color: #cbd5e0;
            background: #f7fafc;
        }

        .branching-type input[type="radio"] {
            margin-top: 2px;
        }

        .branching-type input[type="radio"]:checked + .branching-type-content {
            color: #2d3748;
        }

        .branching-type:has(input:checked) {
            border-color: #48bb78;
            background: #f0fff4;
        }

        .branching-type-content {
            flex: 1;
        }

        .branching-type-content strong {
            display: block;
            margin-bottom: 4px;
            font-size: 1rem;
        }

        .branching-type-content p {
            margin: 0;
            color: #718096;
            font-size: 0.9rem;
            line-height: 1.4;
        }

        .branching-preview {
            margin-top: 24px;
        }

        .branching-preview h4 {
            margin: 0 0 16px 0;
            color: #2d3748;
            font-size: 1.1rem;
        }

        .branch-preview-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 12px;
        }

        .branch-preview-card {
            background: #f7fafc;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 16px;
            transition: all 0.2s ease;
        }

        .branch-preview-card:hover {
            border-color: #cbd5e0;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .branch-preview-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 8px;
        }

        .branch-preview-name {
            font-weight: 600;
            color: #2d3748;
            font-size: 0.95rem;
            line-height: 1.3;
        }

        .branch-preview-id {
            background: #48bb78;
            color: white;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 600;
            flex-shrink: 0;
            margin-left: 8px;
        }

        .branch-preview-description {
            color: #4a5568;
            font-size: 0.85rem;
            line-height: 1.4;
            margin-bottom: 8px;
        }

        .branch-preview-type {
            display: inline-block;
            background: #e2e8f0;
            color: #718096;
            padding: 2px 8px;
            border-radius: 8px;
            font-size: 0.75rem;
            font-weight: 500;
            text-transform: uppercase;
        }

        .branching-actions {
            padding: 20px 24px;
            border-top: 1px solid #e2e8f0;
            display: flex;
            gap: 12px;
            justify-content: flex-end;
            background: #f7fafc;
        }

        .branching-btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 0.95rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .branching-btn.cancel {
            background: white;
            color: #4a5568;
            border: 1px solid #e2e8f0;
        }

        .branching-btn.cancel:hover {
            background: #f7fafc;
            border-color: #cbd5e0;
        }

        .branching-btn.confirm {
            background: linear-gradient(135deg, #48bb78, #38a169);
            color: white;
        }

        .branching-btn.confirm:hover {
            background: linear-gradient(135deg, #38a169, #2f855a);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(72, 187, 120, 0.3);
        }

        /* Branching Success Notification */
        .branching-success-notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            z-index: 21000;
            animation: branchingNotificationSlideIn 0.4s ease-out;
            border-left: 4px solid #48bb78;
        }

        @keyframes branchingNotificationSlideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .branching-success-content {
            padding: 20px;
            display: flex;
            align-items: flex-start;
            gap: 16px;
            max-width: 400px;
        }

        .branching-success-icon {
            font-size: 1.5rem;
            flex-shrink: 0;
        }

        .branching-success-text {
            flex: 1;
        }

        /* Design Tools Modal */
        .design-tools-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 20000;
            animation: designToolsFadeIn 0.3s ease-out;
        }

        @keyframes designToolsFadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .design-tools-container {
            background: white;
            border-radius: 16px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            max-width: 900px;
            width: 90%;
            max-height: 90vh;
            overflow: hidden;
            animation: designToolsSlideUp 0.3s ease-out;
        }

        @keyframes designToolsSlideUp {
            from {
                transform: translateY(30px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .design-tools-header {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 24px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .design-tools-header h3 {
            margin: 0;
            font-size: 1.5rem;
            font-weight: 700;
        }

        .design-tools-close {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .design-tools-close:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }

        .design-tools-content {
            padding: 24px;
            max-height: 60vh;
            overflow-y: auto;
        }

        .design-tools-info {
            margin-bottom: 24px;
            padding: 20px;
            background: #f8fafc;
            border-radius: 12px;
            border-left: 4px solid #667eea;
        }

        .design-tools-target {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 8px;
        }

        .design-tools-variant-badge {
            background: #667eea;
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
        }

        .design-tools-description {
            color: #4a5568;
            font-size: 0.95rem;
            line-height: 1.5;
        }

        .design-tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 24px;
        }

        .design-tool-card {
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .design-tool-card:hover {
            border-color: #667eea;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.15);
        }

        .design-tool-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, #667eea, #764ba2);
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }

        .design-tool-card:hover::before {
            transform: scaleX(1);
        }

        .design-tool-icon {
            font-size: 2.5rem;
            margin-bottom: 12px;
            display: block;
        }

        .design-tool-content h4 {
            margin: 0 0 8px 0;
            color: #2d3748;
            font-size: 1.2rem;
            font-weight: 700;
        }

        .design-tool-content p {
            margin: 0 0 12px 0;
            color: #4a5568;
            font-size: 0.95rem;
            line-height: 1.5;
        }

        .design-tool-features {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .design-tool-features span {
            color: #718096;
            font-size: 0.85rem;
            display: flex;
            align-items: center;
        }

        .design-tools-preview {
            background: #f8fafc;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 24px;
        }

        .design-tools-preview h4 {
            margin: 0 0 16px 0;
            color: #2d3748;
            font-size: 1.1rem;
            font-weight: 600;
        }

        .design-tools-preview-placeholder {
            text-align: center;
            padding: 40px 20px;
            color: #718096;
        }

        .design-tools-preview-icon {
            font-size: 3rem;
            margin-bottom: 12px;
        }

        .design-tools-preview-active {
            background: white;
            border-radius: 8px;
            padding: 20px;
            border: 1px solid #e2e8f0;
        }

        .design-tools-preview-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
        }

        .design-tools-preview-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: #2d3748;
        }

        .design-tools-preview-description {
            color: #4a5568;
            margin-bottom: 16px;
            font-size: 0.95rem;
        }

        .design-tools-preview-steps h5 {
            margin: 0 0 8px 0;
            color: #2d3748;
            font-size: 0.95rem;
            font-weight: 600;
        }

        .design-tools-preview-steps ol {
            margin: 0;
            padding-left: 20px;
            color: #4a5568;
            font-size: 0.9rem;
        }

        .design-tools-preview-steps li {
            margin-bottom: 4px;
        }

        .design-tools-preview-demo {
            margin-top: 16px;
            padding: 16px;
            background: #f7fafc;
            border-radius: 8px;
            border: 1px dashed #cbd5e0;
        }

        .design-tools-demo-area {
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .design-tools-demo-element {
            padding: 12px 24px;
            background: #667eea;
            color: white;
            border-radius: 8px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .design-tools-demo-element.element-picker {
            cursor: pointer;
            border: 2px dashed rgba(255, 255, 255, 0.5);
        }

        .design-tools-demo-element.boundary-tool {
            position: relative;
            border: 2px solid #f56565;
        }

        .design-tools-demo-element.add-tool {
            background: #48bb78;
            position: relative;
        }

        .design-tools-demo-element.add-tool::after {
            content: '+';
            position: absolute;
            top: -8px;
            right: -8px;
            background: #38a169;
            color: white;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .design-tools-actions {
            padding: 20px 24px;
            border-top: 1px solid #e2e8f0;
            display: flex;
            gap: 12px;
            justify-content: flex-end;
            background: #f7fafc;
        }

        .design-tools-btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 0.95rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .design-tools-btn.secondary {
            background: white;
            color: #4a5568;
            border: 1px solid #e2e8f0;
        }

        .design-tools-btn.secondary:hover {
            background: #f7fafc;
            border-color: #cbd5e0;
        }

        .design-tools-btn.primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .design-tools-btn.primary:hover {
            background: linear-gradient(135deg, #5a67d8, #6b46c1);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        /* Design Workspace */
        .design-workspace {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #f7fafc;
            z-index: 19000;
            display: flex;
            flex-direction: column;
            animation: designWorkspaceFadeIn 0.4s ease-out;
        }

        @keyframes designWorkspaceFadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .design-workspace-header {
            background: white;
            border-bottom: 1px solid #e2e8f0;
            padding: 16px 24px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .design-workspace-title h3 {
            margin: 0 0 4px 0;
            color: #2d3748;
            font-size: 1.3rem;
            font-weight: 700;
        }

        .design-workspace-info {
            display: flex;
            gap: 12px;
            align-items: center;
            color: #718096;
            font-size: 0.9rem;
        }

        .design-workspace-variant {
            background: #667eea;
            color: white;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .design-workspace-controls {
            display: flex;
            gap: 12px;
        }

        .design-workspace-btn {
            padding: 10px 20px;
            border: 1px solid #e2e8f0;
            background: white;
            color: #4a5568;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .design-workspace-btn:hover {
            background: #f7fafc;
            border-color: #cbd5e0;
        }

        .design-workspace-btn.modified {
            background: #fed7d7;
            border-color: #fc8181;
            color: #c53030;
        }

        .design-workspace-btn.saved {
            background: #c6f6d5;
            border-color: #68d391;
            color: #2f855a;
        }

        .design-workspace-content {
            flex: 1;
            display: flex;
            overflow: hidden;
        }

        .design-workspace-sidebar {
            width: 300px;
            background: white;
            border-right: 1px solid #e2e8f0;
            display: flex;
            flex-direction: column;
        }

        .design-workspace-tools {
            padding: 20px;
            border-bottom: 1px solid #e2e8f0;
        }

        .design-workspace-tools h4 {
            margin: 0 0 16px 0;
            color: #2d3748;
            font-size: 1rem;
            font-weight: 600;
        }

        .design-workspace-tool-list {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .design-workspace-tool {
            padding: 12px 16px;
            border: 1px solid #e2e8f0;
            background: white;
            color: #4a5568;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: left;
        }

        .design-workspace-tool:hover {
            background: #f7fafc;
            border-color: #cbd5e0;
        }

        .design-workspace-tool.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .design-workspace-properties {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
        }

        .design-workspace-properties h4 {
            margin: 0 0 16px 0;
            color: #2d3748;
            font-size: 1rem;
            font-weight: 600;
        }

        .design-workspace-no-selection {
            text-align: center;
            color: #718096;
            padding: 40px 20px;
        }

        .design-workspace-element-properties h5 {
            margin: 0 0 16px 0;
            color: #2d3748;
            font-size: 0.95rem;
            font-weight: 600;
        }

        .property-group {
            margin-bottom: 16px;
        }

        .property-group label {
            display: block;
            margin-bottom: 6px;
            color: #4a5568;
            font-size: 0.9rem;
            font-weight: 500;
        }

        .property-input {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            font-size: 0.9rem;
            transition: border-color 0.2s ease;
        }

        .property-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .property-input[type="color"] {
            height: 40px;
            padding: 4px;
        }

        .design-workspace-canvas {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: #f7fafc;
        }

        .design-workspace-canvas-header {
            background: white;
            border-bottom: 1px solid #e2e8f0;
            padding: 16px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .design-workspace-canvas-title {
            color: #2d3748;
            font-size: 1rem;
            font-weight: 600;
        }

        .design-workspace-canvas-controls {
            display: flex;
            gap: 8px;
        }

        .design-workspace-canvas-btn {
            padding: 8px 16px;
            border: 1px solid #e2e8f0;
            background: white;
            color: #4a5568;
            border-radius: 6px;
            font-size: 0.85rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .design-workspace-canvas-btn:hover {
            background: #f7fafc;
            border-color: #cbd5e0;
        }

        .design-workspace-canvas-content {
            flex: 1;
            margin: 20px;
            background: white;
            border-radius: 12px;
            border: 1px solid #e2e8f0;
            padding: 20px;
            overflow: auto;
            position: relative;
        }

        .canvas-element {
            margin-bottom: 16px;
            padding: 16px;
            border: 2px solid transparent;
            border-radius: 8px;
            transition: all 0.2s ease;
            cursor: pointer;
        }

        .canvas-element:hover {
            border-color: #cbd5e0;
            background: #f7fafc;
        }

        .canvas-element.selected {
            border-color: #667eea;
            background: rgba(102, 126, 234, 0.05);
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .tool-element-picker .canvas-element {
            cursor: pointer;
        }

        .tool-boundary-tool .canvas-element {
            cursor: crosshair;
        }

        .tool-add-tool .canvas-element {
            cursor: copy;
        }

        /* Design Preview Modal */
        .design-preview-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 21000;
            animation: designPreviewFadeIn 0.3s ease-out;
        }

        @keyframes designPreviewFadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .design-preview-container {
            background: white;
            border-radius: 12px;
            max-width: 90%;
            max-height: 90%;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .design-preview-header {
            background: #2d3748;
            color: white;
            padding: 16px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .design-preview-header h3 {
            margin: 0;
            font-size: 1.1rem;
            font-weight: 600;
        }

        .design-preview-header button {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .design-preview-header button:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .design-preview-content {
            padding: 20px;
            max-height: 70vh;
            overflow: auto;
        }

        .branching-success-text strong {
            color: #2d3748;
            display: block;
            margin-bottom: 4px;
            font-size: 1rem;
        }

        .branching-success-text p {
            margin: 0 0 8px 0;
            color: #4a5568;
            font-size: 0.9rem;
        }

        .branching-success-details {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .branching-success-details span {
            font-size: 0.8rem;
            color: #718096;
        }

        .branching-success-content button {
            background: none;
            border: none;
            color: #a0aec0;
            cursor: pointer;
            font-size: 1.1rem;
            padding: 4px;
            border-radius: 4px;
            transition: color 0.2s ease;
        }

        .branching-success-content button:hover {
            color: #4a5568;
        }

        /* Compare Mode Styles */
        .compare-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 10000;
            display: flex;
            flex-direction: column;
            backdrop-filter: blur(10px);
        }

        .compare-header {
            padding: 20px 24px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .compare-content {
            flex: 1;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2px;
            background: #333333;
        }

        .compare-panel {
            background: #ffffff;
            overflow: auto;
            display: flex;
            flex-direction: column;
        }

        .compare-panel-header {
            padding: 16px;
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            color: #ffffff;
            text-align: center;
            font-weight: 600;
        }

        .compare-panel-content {
            flex: 1;
            padding: 24px;
            color: #000000;
        }

        .level-dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: rgba(120, 119, 198, 0.6);
        }

        .level-dot.active {
            background: #7877c6;
        }

        .level-text {
            font-size: 0.7rem;
            color: #a0aec0;
            margin-left: 4px;
        }

        .action-btn.variants {
            background: rgba(120, 119, 198, 0.2);
            color: #7877c6;
            border-color: rgba(120, 119, 198, 0.3);
        }

        @media (max-width: 768px) {
            .categories {
                grid-template-columns: 1fr;
            }
            
            .component-grid {
                grid-template-columns: 1fr;
            }
            
            .stats {
                grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            }

            .variant-grid {
                grid-template-columns: 1fr;
            }

            .variant-actions {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header Section -->
        <div class="header">
            <h1>ð¨ TasarÄ±m Hub</h1>
            <p>Dark & Elegant - Vault Tracker projesi iÃ§in component tasarÄ±mlarÄ±nÄ± yÃ¶net</p>
            <button onclick="fileSystemManager.scanPendingDirectory()" style="position:absolute; top: 10px; right: 150px; z-index: 9999; padding: 5px; background: red; color: white; border: none; border-radius: 5px;">DEBUG SCAN</button>
            <button onclick="localStorage.clear(); location.reload();" style="position:absolute; top: 10px; right: 10px; z-index: 9999; padding: 5px; background: orange; color: white; border: none; border-radius: 5px;">RESET</button>
            
            <div class="stats">
                <div class="stat-card">
                    <span class="stat-number" id="pendingCount">0</span>
                    <span class="stat-label">Onay Bekleyen</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number" id="approvedCount">0</span>
                    <span class="stat-label">OnaylanmÄ±Å</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number" id="totalCount">21</span>
                    <span class="stat-label">Toplam Component</span>
                </div>
            </div>
        </div>

        <!-- Search Section -->
        <div class="search-section">
            <input type="text" class="search-box" placeholder="ð Component ara..." id="searchInput">
        </div>

        <!-- HUB Panels: Pending / Approved / Changelog -->
        <div class="hub-panels">
            <section class="hub-panel" id="pendingPanel">
                <div class="panel-header">
                    <h2>ð Onay Bekleyen Varyantlar</h2>
                    <small class="panel-subtitle">Dosya taramasÄ±ndan ve mevcut componentâlerden toplanÄ±r</small>
                </div>
                <div class="panel-grid" id="pendingPanelContent"></div>
            </section>
            <section class="hub-panel" id="approvedPanel">
                <div class="panel-header">
                    <h2>â OnaylanmÄ±Å TasarÄ±mlar</h2>
                    <small class="panel-subtitle">LocalStorage âapproved-versionsâ kaydÄ±ndan Ã§ekilir</small>
                </div>
                <div class="panel-grid" id="approvedPanelContent"></div>
            </section>
            <section class="hub-panel" id="changelogPanel">
                <div class="panel-header">
                    <h2>ð Changelog</h2>
                    <small class="panel-subtitle">Son onaylar ve geÃ§iÅler</small>
                </div>
                <div class="panel-list" id="changelogPanelContent"></div>
            </section>
        </div>

        <style>
            .hub-panels { display: grid; gap: 24px; margin-top: 8px; }
            .hub-panel { background: #0f1218; border: 1px solid #1f2430; border-radius: 14px; padding: 16px; }
            .hub-panel .panel-header { display: flex; align-items: baseline; justify-content: space-between; margin-bottom: 12px; }
            .hub-panel .panel-header h2 { margin: 0; font-size: 1.1rem; color: #e5e7eb; }
            .hub-panel .panel-subtitle { color: #9aa0a6; }
            .panel-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); gap: 12px; }
            .panel-card { background: #121622; border: 1px solid #1f2430; border-radius: 12px; padding: 12px; display: flex; flex-direction: column; gap: 8px; cursor: default; }
            .panel-card.clickable { cursor: pointer; }
            .panel-card-header { display: flex; justify-content: space-between; align-items: center; }
            .panel-card-title { font-weight: 600; color: #e5e7eb; }
            .panel-card-badge { background: #1f2430; color: #a3a8b7; border-radius: 999px; padding: 2px 8px; font-size: 12px; }
            .panel-card-body { color: #a3a8b7; font-size: 14px; }
            .panel-card-variant { color: #cbd5e1; font-weight: 500; }
            .panel-actions { display: flex; gap: 8px; }
            .panel-btn { background: #1b2130; color: #cbd5e1; border: 1px solid #2a3142; border-radius: 8px; padding: 6px 10px; cursor: pointer; }
            .panel-btn:hover { background: #232a3a; }
            .panel-btn.primary { background: #1e3a8a; border-color: #1e3a8a; color: #fff; }
            .panel-btn.primary:hover { background: #2747a5; }
            .panel-empty { color: #9aa0a6; padding: 8px; }
            .panel-list { display: flex; flex-direction: column; gap: 8px; }
            .panel-list-item { display: flex; justify-content: space-between; border: 1px solid #1f2430; border-radius: 10px; padding: 10px; background: #121622; }
            .panel-list-title { color: #e5e7eb; font-weight: 500; }
            .panel-list-meta { color: #9aa0a6; font-size: 12px; }
            .status-pending { border-color: #3b82f6; }
            .status-approved { border-color: #22c55e; }
            .component-card.attention { box-shadow: 0 0 0 2px #3b82f6, 0 0 12px rgba(59,130,246,0.45); }
            .type-chips { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 6px; }
            .type-chip { display: inline-flex; align-items: center; gap: 6px; background: #151a27; border: 1px solid #22293a; border-radius: 999px; padding: 4px 8px; }
            .type-chip .chip-name { color: #cbd5e1; font-size: 12px; }
        </style>

        <!-- Categories -->
        <div class="categories">
            <!-- Meta Category -->
            <div class="category" data-category="meta">
                <div class="category-header">
                    <span class="category-icon">ð </span>
                    <h2 class="category-title">Meta (HUB'un Kendisi)</h2>
                </div>
                <div class="component-grid">
                    <div class="component-card" data-component="hub-design">
                        <div class="component-name">HUB Design</div>
                        <div class="component-description">Ana tasarÄ±m hub'Ä±nÄ±n gÃ¶rÃ¼nÃ¼mÃ¼</div>
                        <div class="component-status status-approved">OnaylandÄ±</div>
                        <button class="design-button" onclick="startDesign('hub-design')">ð¨ TasarÄ±m BaÅlat</button>
                    </div>
                    <div class="component-card" data-component="category-card">
                        <div class="component-name">Category Card</div>
                        <div class="component-description">Kategori kartlarÄ±nÄ±n tasarÄ±mÄ±</div>
                        <div class="component-status status-not-started">BaÅlanmadÄ±</div>
                        <button class="design-button" onclick="startDesign('category-card')">ð¨ TasarÄ±m BaÅlat</button>
                    </div>
                    <div class="component-card" data-component="component-card">
                        <div class="component-name">Component Card</div>
                        <div class="component-description">Component kartlarÄ±nÄ±n tasarÄ±mÄ±</div>
                        <div class="component-status status-not-started">BaÅlanmadÄ±</div>
                        <button class="design-button" onclick="startDesign('component-card')">ð¨ TasarÄ±m BaÅlat</button>
                    </div>
                </div>
            </div>

            <!-- Navigation & Layout -->
            <div class="category" data-category="navigation">
                <div class="category-header">
                    <span class="category-icon">ð§­</span>
                    <h2 class="category-title">Navigation & Layout</h2>
                </div>
                <div class="component-grid">
                    <div class="component-card" data-component="navbar">
                        <div class="component-name">Navbar</div>
                        <div class="component-description">Ana navigasyon menÃ¼sÃ¼</div>
                        <div class="component-status status-not-started">BaÅlanmadÄ±</div>
                        <button class="design-button" onclick="startDesign('navbar')">ð¨ TasarÄ±m BaÅlat</button>
                    </div>
                    <div class="component-card" data-component="sidebar">
                        <div class="component-name">Sidebar</div>
                        <div class="component-description">Yan menÃ¼ paneli</div>
                        <div class="component-status status-not-started">BaÅlanmadÄ±</div>
                        <button class="design-button" onclick="startDesign('sidebar')">ð¨ TasarÄ±m BaÅlat</button>
                    </div>
                    <div class="component-card" data-component="footer">
                        <div class="component-name">Footer</div>
                        <div class="component-description">Sayfa alt bilgi alanÄ±</div>
                        <div class="component-status status-not-started">BaÅlanmadÄ±</div>
                        <button class="design-button" onclick="startDesign('footer')">ð¨ TasarÄ±m BaÅlat</button>
                    </div>
                </div>
            </div>

            <!-- Dashboard Elements -->
            <div class="category" data-category="dashboard">
                <div class="category-header">
                    <span class="category-icon">ð</span>
                    <h2 class="category-title">Dashboard Elements</h2>
                </div>
                <div class="component-grid">
                    <div class="component-card" data-component="statistics-card">
                        <div class="component-name">Statistics Card</div>
                        <div class="component-description">Ä°statistik gÃ¶sterim kartÄ±</div>
                        <div class="component-status status-not-started">BaÅlanmadÄ±</div>
                        <button class="design-button" onclick="startDesign('statistics-card')">ð¨ TasarÄ±m BaÅlat</button>
                    </div>
                    <div class="component-card" data-component="current-game-card">
                        <div class="component-name">Current Game Card</div>
                        <div class="component-description">Aktif oyun kartÄ±</div>
                        <div class="component-status status-not-started">BaÅlanmadÄ±</div>
                        <button class="design-button" onclick="startDesign('current-game-card')">ð¨ TasarÄ±m BaÅlat</button>
                    </div>
                    <div class="component-card" data-component="progress-chart">
                        <div class="component-name">Progress Chart</div>
                        <div class="component-description">Ä°lerleme grafiÄi</div>
                        <div class="component-status status-not-started">BaÅlanmadÄ±</div>
                        <button class="design-button" onclick="startDesign('progress-chart')">ð¨ TasarÄ±m BaÅlat</button>
                    </div>
                </div>
            </div>

            <!-- Forms & Inputs -->
            <div class="category" data-category="forms">
                <div class="category-header">
                    <span class="category-icon">ð</span>
                    <h2 class="category-title">Forms & Inputs</h2>
                </div>
                <div class="component-grid">
                    <div class="component-card" data-component="button">
                        <div class="component-name">Button</div>
                        <div class="component-description">Temel buton componentleri</div>
                        <div class="component-status status-not-started">BaÅlanmadÄ±</div>
                        <button class="design-button" onclick="startDesign('button')">ð¨ TasarÄ±m BaÅlat</button>
                    </div>
                    <div class="component-card" data-component="input-field">
                        <div class="component-name">Input Field</div>
                        <div class="component-description">Metin giriÅ alanlarÄ±</div>
                        <div class="component-status status-not-started">BaÅlanmadÄ±</div>
                        <button class="design-button" onclick="startDesign('input-field')">ð¨ TasarÄ±m BaÅlat</button>
                    </div>
                    <div class="component-card" data-component="search-box">
                        <div class="component-name">Search Box</div>
                        <div class="component-description">Arama kutusu</div>
                        <div class="component-status status-not-started">BaÅlanmadÄ±</div>
                        <button class="design-button" onclick="startDesign('search-box')">ð¨ TasarÄ±m BaÅlat</button>
                    </div>
                </div>
            </div>

            <!-- Modals & Overlays -->
            <div class="category" data-category="modals">
                <div class="category-header">
                    <span class="category-icon">ð²</span>
                    <h2 class="category-title">Modals & Overlays</h2>
                </div>
                <div class="component-grid">
                    <div class="component-card" data-component="modal">
                        <div class="component-name">Modal</div>
                        <div class="component-description">Pop-up pencereler</div>
                        <div class="component-status status-not-started">BaÅlanmadÄ±</div>
                        <button class="design-button" onclick="startDesign('modal')">ð¨ TasarÄ±m BaÅlat</button>
                    </div>
                    <div class="component-card" data-component="tooltip">
                        <div class="component-name">Tooltip</div>
                        <div class="component-description">Bilgi baloncuklarÄ±</div>
                        <div class="component-status status-not-started">BaÅlanmadÄ±</div>
                        <button class="design-button" onclick="startDesign('tooltip')">ð¨ TasarÄ±m BaÅlat</button>
                    </div>
                    <div class="component-card" data-component="dropdown">
                        <div class="component-name">Dropdown</div>
                        <div class="component-description">AÃ§Ä±lÄ±r menÃ¼ler</div>
                        <div class="component-status status-not-started">BaÅlanmadÄ±</div>
                        <button class="design-button" onclick="startDesign('dropdown')">ð¨ TasarÄ±m BaÅlat</button>
                    </div>
                </div>
            </div>

            <!-- Data Display -->
            <div class="category" data-category="data">
                <div class="category-header">
                    <span class="category-icon">ð</span>
                    <h2 class="category-title">Data Display</h2>
                </div>
                <div class="component-grid">
                    <div class="component-card" data-component="game-list">
                        <div class="component-name">Game List</div>
                        <div class="component-description">Oyun listesi gÃ¶rÃ¼nÃ¼mÃ¼</div>
                        <div class="component-status status-not-started">BaÅlanmadÄ±</div>
                        <button class="design-button" onclick="startDesign('game-list')">ð¨ TasarÄ±m BaÅlat</button>
                    </div>
                    <div class="component-card" data-component="data-table">
                        <div class="component-name">Data Table</div>
                        <div class="component-description">Veri tablolarÄ±</div>
                        <div class="component-status status-not-started">BaÅlanmadÄ±</div>
                        <button class="design-button" onclick="startDesign('data-table')">ð¨ TasarÄ±m BaÅlat</button>
                    </div>
                    <div class="component-card" data-component="card-grid">
                        <div class="component-name">Card Grid</div>
                        <div class="component-description">Kart grid sistemi</div>
                        <div class="component-status status-not-started">BaÅlanmadÄ±</div>
                        <button class="design-button" onclick="startDesign('card-grid')">ð¨ TasarÄ±m BaÅlat</button>
                    </div>
                </div>
            </div>

            <!-- Feedback -->
            <div class="category" data-category="feedback">
                <div class="category-header">
                    <span class="category-icon">ð¬</span>
                    <h2 class="category-title">Feedback</h2>
                </div>
                <div class="component-grid">
                    <div class="component-card" data-component="notification">
                        <div class="component-name">Notification</div>
                        <div class="component-description">Bildirim mesajlarÄ±</div>
                        <div class="component-status status-not-started">BaÅlanmadÄ±</div>
                        <button class="design-button" onclick="startDesign('notification')">ð¨ TasarÄ±m BaÅlat</button>
                    </div>
                    <div class="component-card" data-component="loading-spinner">
                        <div class="component-name">Loading Spinner</div>
                        <div class="component-description">YÃ¼kleme animasyonlarÄ±</div>
                        <div class="component-status status-not-started">BaÅlanmadÄ±</div>
                        <button class="design-button" onclick="startDesign('loading-spinner')">ð¨ TasarÄ±m BaÅlat</button>
                    </div>
                    <div class="component-card" data-component="error-message">
                        <div class="component-name">Error Message</div>
                        <div class="component-description">Hata mesajlarÄ±</div>
                        <div class="component-status status-not-started">BaÅlanmadÄ±</div>
                        <button class="design-button" onclick="startDesign('error-message')">ð¨ TasarÄ±m BaÅlat</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p>ð Dark & Elegant Theme</p>
            <p>Vault Tracker Design Hub - 21 Component ile tasarÄ±m sÃ¼recinizi yÃ¶netin</p>
            <p>Klavye kÄ±sayollarÄ±: <strong>Ctrl+F</strong> (Arama), <strong>Ctrl+K</strong> (Komut kopyala)</p>
        </div>
    </div>

    <script>
        // Enhanced Component Management System
        class ComponentManager {
            constructor() {
                this.components = {
                    'hub-design': {
                        name: 'HUB Design',
                        description: 'Ana tasarÄ±m hub\'Ä±nÄ±n gÃ¶rÃ¼nÃ¼mÃ¼',
                        status: 'approved',
                        category: 'meta',
                        keywords: ['hub', 'design', 'ana', 'tasarÄ±m', 'meta'],
                        variants: [],
                        created: new Date().toISOString(),
                        updated: new Date().toISOString()
                    },
                    'category-card': {
                        name: 'Category Card',
                        description: 'Kategori kartlarÄ±nÄ±n tasarÄ±mÄ±',
                        status: 'not-started',
                        category: 'meta',
                        keywords: ['category', 'card', 'kategori', 'kart', 'meta'],
                        variants: [],
                        created: new Date().toISOString(),
                        updated: new Date().toISOString()
                    },
                    'component-card': {
                        name: 'Component Card',
                        description: 'Component kartlarÄ±nÄ±n tasarÄ±mÄ±',
                        status: 'not-started',
                        category: 'meta',
                        keywords: ['component', 'card', 'bileÅen', 'kart', 'meta'],
                        variants: [],
                        created: new Date().toISOString(),
                        updated: new Date().toISOString()
                    },
                    'navbar': {
                        name: 'Navbar',
                        description: 'Ana navigasyon menÃ¼sÃ¼',
                        status: 'not-started',
                        category: 'navigation',
                        keywords: ['navbar', 'navigation', 'menu', 'navigasyon', 'menÃ¼'],
                        variants: [],
                        created: new Date().toISOString(),
                        updated: new Date().toISOString()
                    },
                    'sidebar': {
                        name: 'Sidebar',
                        description: 'Yan menÃ¼ paneli',
                        status: 'not-started',
                        category: 'navigation',
                        keywords: ['sidebar', 'yan', 'menu', 'panel', 'navigasyon'],
                        variants: [],
                        created: new Date().toISOString(),
                        updated: new Date().toISOString()
                    },
                    'footer': {
                        name: 'Footer',
                        description: 'Sayfa alt bilgi alanÄ±',
                        status: 'not-started',
                        category: 'navigation',
                        keywords: ['footer', 'alt', 'bilgi', 'sayfa'],
                        variants: [],
                        created: new Date().toISOString(),
                        updated: new Date().toISOString()
                    },
                    'statistics-card': {
                        name: 'Statistics Card',
                        description: 'Ä°statistik gÃ¶sterim kartÄ±',
                        status: 'not-started',
                        category: 'dashboard',
                        keywords: ['statistics', 'stats', 'istatistik', 'sayÄ±', 'dashboard'],
                        variants: [],
                        created: new Date().toISOString(),
                        updated: new Date().toISOString()
                    },
                    'current-game-card': {
                        name: 'Current Game Card',
                        description: 'Aktif oyun kartÄ±',
                        status: 'not-started',
                        category: 'dashboard',
                        keywords: ['current', 'game', 'aktif', 'oyun', 'dashboard'],
                        variants: [],
                        created: new Date().toISOString(),
                        updated: new Date().toISOString()
                    },
                    'progress-chart': {
                        name: 'Progress Chart',
                        description: 'Ä°lerleme grafiÄi',
                        status: 'not-started',
                        category: 'dashboard',
                        keywords: ['progress', 'chart', 'ilerleme', 'grafik', 'dashboard'],
                        variants: [],
                        created: new Date().toISOString(),
                        updated: new Date().toISOString()
                    },
                    'button': {
                        name: 'Button',
                        description: 'Temel buton componentleri',
                        status: 'not-started',
                        category: 'forms',
                        keywords: ['button', 'buton', 'form', 'click'],
                        variants: [],
                        created: new Date().toISOString(),
                        updated: new Date().toISOString()
                    },
                    'input-field': {
                        name: 'Input Field',
                        description: 'Form giriÅ alanlarÄ±',
                        status: 'not-started',
                        category: 'forms',
                        keywords: ['input', 'field', 'giriÅ', 'alan', 'form'],
                        variants: [],
                        created: new Date().toISOString(),
                        updated: new Date().toISOString()
                    },
                    'search-box': {
                        name: 'Search Box',
                        description: 'Arama kutusu componenti',
                        status: 'not-started',
                        category: 'forms',
                        keywords: ['search', 'box', 'arama', 'kutu', 'form'],
                        variants: [],
                        created: new Date().toISOString(),
                        updated: new Date().toISOString()
                    },
                    'modal': {
                        name: 'Modal',
                        description: 'Modal pencere componenti',
                        status: 'not-started',
                        category: 'ui-elements',
                        keywords: ['modal', 'popup', 'pencere', 'overlay'],
                        variants: [],
                        created: new Date().toISOString(),
                        updated: new Date().toISOString()
                    },
                    'tooltip': {
                        name: 'Tooltip',
                        description: 'Bilgi baloncuÄu componenti',
                        status: 'not-started',
                        category: 'ui-elements',
                        keywords: ['tooltip', 'bilgi', 'baloncuk', 'hover'],
                        variants: [],
                        created: new Date().toISOString(),
                        updated: new Date().toISOString()
                    },
                    'dropdown': {
                        name: 'Dropdown',
                        description: 'AÃ§Ä±lÄ±r menÃ¼ componenti',
                        status: 'not-started',
                        category: 'ui-elements',
                        keywords: ['dropdown', 'aÃ§Ä±lÄ±r', 'menu', 'select'],
                        variants: [],
                        created: new Date().toISOString(),
                        updated: new Date().toISOString()
                    },
                    'game-list': {
                        name: 'Game List',
                        description: 'Oyun listesi componenti',
                        status: 'not-started',
                        category: 'data-display',
                        keywords: ['game', 'list', 'oyun', 'liste', 'data'],
                        variants: [],
                        created: new Date().toISOString(),
                        updated: new Date().toISOString()
                    },
                    'data-table': {
                        name: 'Data Table',
                        description: 'Veri tablosu componenti',
                        status: 'not-started',
                        category: 'data-display',
                        keywords: ['data', 'table', 'veri', 'tablo', 'list'],
                        variants: [],
                        created: new Date().toISOString(),
                        updated: new Date().toISOString()
                    },
                    'card-grid': {
                        name: 'Card Grid',
                        description: 'Kart Ä±zgara sistemi',
                        status: 'not-started',
                        category: 'data-display',
                        keywords: ['card', 'grid', 'kart', 'Ä±zgara', 'layout'],
                        variants: [],
                        created: new Date().toISOString(),
                        updated: new Date().toISOString()
                    },
                    'notification': {
                        name: 'Notification',
                        description: 'Bildirim mesaj sistemi',
                        status: 'not-started',
                        category: 'feedback',
                        keywords: ['notification', 'bildirim', 'mesaj', 'feedback'],
                        variants: [],
                        created: new Date().toISOString(),
                        updated: new Date().toISOString()
                    },
                    'loading-spinner': {
                        name: 'Loading Spinner',
                        description: 'YÃ¼kleme animasyon componenti',
                        status: 'not-started',
                        category: 'feedback',
                        keywords: ['loading', 'spinner', 'yÃ¼kleme', 'animasyon', 'feedback'],
                        variants: [],
                        created: new Date().toISOString(),
                        updated: new Date().toISOString()
                    },
                    'error-message': {
                        name: 'Error Message',
                        description: 'Hata mesaj componenti',
                        status: 'not-started',
                        category: 'feedback',
                        keywords: ['error', 'message', 'hata', 'mesaj', 'feedback'],
                        variants: [],
                        created: new Date().toISOString(),
                        updated: new Date().toISOString()
                    }
                };
                
                this.categories = {
                    'meta': { name: 'Meta (HUB\'un Kendisi)', icon: 'ð ' },
                    'navigation': { name: 'Navigation & Layout', icon: 'ð§­' },
                    'dashboard': { name: 'Dashboard Elements', icon: 'ð' },
                    'forms': { name: 'Forms & Inputs', icon: 'ð' },
                    'ui-elements': { name: 'UI Elements', icon: 'ð¨' },
                    'data-display': { name: 'Data Display', icon: 'ð' },
                    'feedback': { name: 'Feedback', icon: 'ð¬' }
                };
                
                this.loadFromStorage();
                this.render();
                this.bindEvents();
            }
            
            // Storage Management
            saveToStorage() {
                localStorage.setItem('hub-components', JSON.stringify(this.components));
                localStorage.setItem('hub-categories', JSON.stringify(this.categories));
            }
            
            loadFromStorage() {
                const savedComponents = localStorage.getItem('hub-components');
                const savedCategories = localStorage.getItem('hub-categories');
                
                if (savedComponents) {
                    this.components = JSON.parse(savedComponents);
                }
                
                if (savedCategories) {
                    this.categories = JSON.parse(savedCategories);
                }
            }
            
            // Component CRUD Operations
            addComponent(componentData) {
                const id = this.generateId(componentData.name);
                this.components[id] = {
                    ...componentData,
                    variants: [],
                    created: new Date().toISOString(),
                    updated: new Date().toISOString()
                };
                this.saveToStorage();
                this.render();
                this.showNotification(`â Component "${componentData.name}" eklendi!`);
            }
            
            editComponent(id, componentData) {
                if (this.components[id]) {
                    this.components[id] = {
                        ...this.components[id],
                        ...componentData,
                        updated: new Date().toISOString()
                    };
                    this.saveToStorage();
                    this.render();
                    this.showNotification(`â Component "${componentData.name}" gÃ¼ncellendi!`);
                }
            }
            
            deleteComponent(id) {
                if (this.components[id]) {
                    const name = this.components[id].name;
                    delete this.components[id];
                    this.saveToStorage();
                    this.render();
                    this.showNotification(`ðï¸ Component "${name}" silindi!`);
                }
            }
            
            // Utility Functions
            generateId(name) {
                return name.toLowerCase()
                    .replace(/[^a-z0-9]/g, '-')
                    .replace(/-+/g, '-')
                    .replace(/^-|-$/g, '');
            }
            
            updateStats() {
                console.log('ð updateStats() Ã§aÄrÄ±ldÄ±');
                const components = Object.values(this.components);
                const pending = components.filter(c => c.status === 'pending').length;
                const approved = components.filter(c => c.status === 'approved').length;
                const total = components.length;
                
                console.log(`ð Stats: Pending=${pending}, Approved=${approved}, Total=${total}`);
                
                document.getElementById('pendingCount').textContent = pending;
                document.getElementById('approvedCount').textContent = approved;
                document.getElementById('totalCount').textContent = total;
                
                console.log('â Navbar sayÄ±larÄ± DOM\'a yazÄ±ldÄ±');
            }
            
            showNotification(message) {
                // Create notification element
                const notification = document.createElement('div');
                notification.className = 'notification';
                notification.textContent = message;
                notification.style.cssText = `
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    background: linear-gradient(135deg, rgba(34, 197, 94, 0.9), rgba(16, 185, 129, 0.9));
                    color: white;
                    padding: 12px 20px;
                    border-radius: 8px;
                    box-shadow: 0 4px 12px rgba(0,0,0,0.3);
                    z-index: 10000;
                    animation: slideIn 0.3s ease;
                `;
                
                document.body.appendChild(notification);
                
                setTimeout(() => {
                    notification.style.animation = 'slideOut 0.3s ease';
                    setTimeout(() => notification.remove(), 300);
                }, 3000);
            }
            
            // Render Functions
            render() {
                this.renderCategories();
                this.renderPanels();
                this.updateStats();
            }

            renderPanels() {
                // Pending components aggregate (one card per component)
                const pendingContainer = document.getElementById('pendingPanelContent');
                if (pendingContainer) {
                    const componentsWithPending = Object.entries(this.components)
                        .filter(([_, comp]) => (comp.variants || []).some(v => v.status === 'pending'));

                    if (componentsWithPending.length === 0) {
                        pendingContainer.innerHTML = '<div class="panel-empty">HenÃ¼z bekleyen tasarÄ±m gÃ¼ncellemesi yok. Ctrl+Shift+S ile pending klasÃ¶rÃ¼nÃ¼ tara.</div>';
                    } else {
                        const variantTypesMap = window.variantManager?.variantTypes || {};
                        pendingContainer.innerHTML = componentsWithPending.slice(0, 24).map(([componentId, comp]) => {
                            const pendingVariants = (comp.variants || []).filter(v => v.status === 'pending');
                            const pendingTypes = [...new Set(pendingVariants.map(v => v.type))];
                            return `
                                <div class="panel-card status-pending clickable" onclick="componentManager.scrollToComponent('${componentId}')">
                                    <div class="panel-card-header">
                                        <div class="panel-card-title">${comp.name}</div>
                                        <span class="panel-card-badge">${pendingVariants.length} bekleyen</span>
                                    </div>
                                    <div class="panel-card-body">
                                        <div class="panel-card-desc">TÃ¼rler:</div>
                                        <div class="type-chips">
                                            ${pendingTypes.map(t => {
                                                const type = variantTypesMap[t] || { name: t, class: 'default' };
                                                return `
                                                    <span class="type-chip">
                                                        <span class="variant-type-badge ${type.class}">${t}</span>
                                                        <span class="chip-name">${type.name}</span>
                                                    </span>
                                                `;
                                            }).join('')}
                                        </div>
                                    </div>
                                </div>
                            `;
                        }).join('');
                    }
                }

                // Approved versions from localStorage
                const approvedContainer = document.getElementById('approvedPanelContent');
                if (approvedContainer) {
                    const approvedVersions = JSON.parse(localStorage.getItem('approved-versions') || '[]');
                    if (!approvedVersions || approvedVersions.length === 0) {
                        approvedContainer.innerHTML = '<div class="panel-empty">HenÃ¼z onaylanmÄ±Å sÃ¼rÃ¼m yok.</div>';
                    } else {
                        approvedContainer.innerHTML = approvedVersions.slice(-24).reverse().map(ver => `
                            <div class="panel-card status-approved">
                                <div class="panel-card-header">
                                    <div class="panel-card-title">${ver.metadata?.componentName || ver.componentId}</div>
                                    <span class="panel-card-badge">v${ver.version}</span>
                                </div>
                                <div class="panel-card-body">
                                    <div class="panel-card-variant">${ver.metadata?.variantName || ''}</div>
                                    <div class="panel-card-desc">${ver.metadata?.category ? ('Kategori: ' + ver.metadata.category) : ''}</div>
                                </div>
                                <div class="panel-actions">
                                    <button class="panel-btn" onclick="alert('Approved dosya yolu: ${ver.filePath}')">ð Yolu GÃ¶ster</button>
                                </div>
                            </div>
                        `).join('');
                    }
                }

                // Changelog from approval-history
                const changelogContainer = document.getElementById('changelogPanelContent');
                if (changelogContainer) {
                    const history = JSON.parse(localStorage.getItem('approval-history') || '[]');
                    if (!history || history.length === 0) {
                        changelogContainer.innerHTML = '<div class="panel-empty">HenÃ¼z changelog kaydÄ± yok.</div>';
                    } else {
                        changelogContainer.innerHTML = history.slice(0, 20).map(h => `
                            <div class="panel-list-item">
                                <div class="panel-list-title">${h.componentName} â¢ ${h.variantName}</div>
                                <div class="panel-list-meta">${new Date(h.timestamp).toLocaleString('tr-TR')} â¢ ${h.user}</div>
                            </div>
                        `).join('');
                    }
                }
            }

            scrollToComponent(componentId) {
                const el = document.querySelector(`.component-card[data-component="${componentId}"]`);
                if (!el) {
                    this.showNotification('Component bulunamadÄ±', 'warning');
                    return;
                }
                el.scrollIntoView({ behavior: 'smooth', block: 'center' });
                el.classList.add('attention');
                setTimeout(() => el.classList.remove('attention'), 1600);
                this.toggleVariants(componentId);
            }
            
            renderCategories() {
                const container = document.querySelector('.categories');
                container.innerHTML = '';
                
                Object.entries(this.categories).forEach(([categoryId, category]) => {
                    const categoryComponents = Object.entries(this.components)
                        .filter(([id, comp]) => comp.category === categoryId);
                    
                    if (categoryComponents.length === 0) return;
                    
                    const categoryElement = this.createCategoryElement(categoryId, category, categoryComponents);
                    container.appendChild(categoryElement);
                });
            }
            
            createCategoryElement(categoryId, category, components) {
                const categoryDiv = document.createElement('div');
                categoryDiv.className = 'category';
                categoryDiv.dataset.category = categoryId;
                
                categoryDiv.innerHTML = `
                    <div class="category-header">
                        <span class="category-icon">${category.icon}</span>
                        <h2 class="category-title">${category.name}</h2>
                        <button class="add-component-btn" onclick="componentManager.showAddComponentModal('${categoryId}')">
                            â Component Ekle
                        </button>
                    </div>
                    <div class="component-grid">
                        ${components.map(([id, comp]) => this.createComponentCard(id, comp)).join('')}
                    </div>
                `;
                
                return categoryDiv;
            }
            
            createComponentCard(id, component) {
                const statusClass = `status-${component.status}`;
                const statusText = {
                    'pending': 'Beklemede',
                    'approved': 'OnaylandÄ±',
                    'not-started': 'BaÅlanmadÄ±'
                }[component.status] || component.status;
                
                return `
                    <div class="component-card" data-component="${id}" onclick="componentManager.toggleVariants('${id}')" style="cursor: pointer;">
                        <div class="component-header">
                            <div class="component-name">${component.name}</div>
                            <div class="component-actions" onclick="event.stopPropagation();">
                                <button class="action-btn edit-btn" onclick="componentManager.showEditComponentModal('${id}')" title="DÃ¼zenle">
                                    âï¸
                                </button>
                                <button class="action-btn delete-btn" onclick="componentManager.confirmDeleteComponent('${id}')" title="Sil">
                                    ðï¸
                                </button>
                            </div>
                        </div>
                        <div class="component-description">${component.description}</div>
                        <div class="component-status ${statusClass}">${statusText}</div>
                        <div class="component-meta">
                            <small>Varyant: ${(component.variants || []).length}</small>
                            <small>GÃ¼ncelleme: ${new Date(component.updated).toLocaleDateString('tr-TR')}</small>
                        </div>
                        <div class="component-buttons" onclick="event.stopPropagation();">
                            <button class="design-button" onclick="componentManager.startDesign('${id}')">
                                ð¨ TasarÄ±m BaÅlat
                            </button>
                            <button class="action-btn variants" onclick="componentManager.toggleVariants('${id}')">
                                ð¨ Varyantlar (${(component.variants || []).length})
                            </button>
                        </div>
                        ${window.variantManager ? window.variantManager.renderVariantSection(id, component.variants || []) : ''}
                    </div>
                `;
            }
            
            // Modal Functions
            showAddComponentModal(categoryId = '') {
                this.showComponentModal('add', null, categoryId);
            }
            
            showEditComponentModal(id) {
                this.showComponentModal('edit', this.components[id], '');
            }
            
            showComponentModal(mode, component = null, defaultCategory = '') {
                const isEdit = mode === 'edit';
                const title = isEdit ? 'Component DÃ¼zenle' : 'Yeni Component Ekle';
                
                const modalHTML = `
                    <div class="modal-overlay" onclick="componentManager.closeModal()">
                        <div class="modal-content" onclick="event.stopPropagation()">
                            <div class="modal-header">
                                <h3>${title}</h3>
                                <button class="close-btn" onclick="componentManager.closeModal()">â</button>
                            </div>
                            <form class="modal-form" onsubmit="componentManager.handleComponentSubmit(event, '${mode}', '${component?.id || ''}')">
                                <div class="form-group">
                                    <label>Component AdÄ±:</label>
                                    <input type="text" name="name" value="${component?.name || ''}" required>
                                </div>
                                <div class="form-group">
                                    <label>AÃ§Ä±klama:</label>
                                    <textarea name="description" required>${component?.description || ''}</textarea>
                                </div>
                                <div class="form-group">
                                    <label>Kategori:</label>
                                    <select name="category" required>
                                        ${Object.entries(this.categories).map(([id, cat]) => 
                                            `<option value="${id}" ${(component?.category === id || defaultCategory === id) ? 'selected' : ''}>${cat.name}</option>`
                                        ).join('')}
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Durum:</label>
                                    <select name="status">
                                        <option value="not-started" ${component?.status === 'not-started' ? 'selected' : ''}>BaÅlanmadÄ±</option>
                                        <option value="pending" ${component?.status === 'pending' ? 'selected' : ''}>Beklemede</option>
                                        <option value="approved" ${component?.status === 'approved' ? 'selected' : ''}>OnaylandÄ±</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Anahtar Kelimeler (virgÃ¼lle ayÄ±rÄ±n):</label>
                                    <input type="text" name="keywords" value="${component?.keywords?.join(', ') || ''}" placeholder="button, buton, form, click">
                                </div>
                                <div class="modal-actions">
                                    <button type="button" onclick="componentManager.closeModal()">Ä°ptal</button>
                                    <button type="submit">${isEdit ? 'GÃ¼ncelle' : 'Ekle'}</button>
                                </div>
                            </form>
                        </div>
                    </div>
                `;
                
                document.body.insertAdjacentHTML('beforeend', modalHTML);
            }
            
            handleComponentSubmit(event, mode, componentId) {
                event.preventDefault();
                const formData = new FormData(event.target);
                
                const componentData = {
                    name: formData.get('name'),
                    description: formData.get('description'),
                    category: formData.get('category'),
                    status: formData.get('status'),
                    keywords: formData.get('keywords').split(',').map(k => k.trim()).filter(k => k)
                };
                
                if (mode === 'edit') {
                    this.editComponent(componentId, componentData);
                } else {
                    this.addComponent(componentData);
                }
                
                this.closeModal();
            }
            
            confirmDeleteComponent(id) {
                const component = this.components[id];
                if (confirm(`"${component.name}" componentini silmek istediÄinizden emin misiniz?`)) {
                    this.deleteComponent(id);
                }
            }
            
            closeModal() {
                const modal = document.querySelector('.modal-overlay');
                if (modal) modal.remove();
            }
            
            // Design Functions
            startDesign(componentId) {
                const component = this.components[componentId];
                const command = this.generateDesignCommand(component);
                
                navigator.clipboard.writeText(command).then(() => {
                    this.showNotification(`ð¨ ${component.name} tasarÄ±m komutu kopyalandÄ±!`);
                }).catch(() => {
                    alert(`ð¨ TasarÄ±m Komutu:\n\n${command}\n\nBu komutu Claude'a yapÄ±ÅtÄ±rÄ±n.`);
                });
            }
            
            generateDesignCommand(component) {
                const commands = {
                    'hub-design': 'HUB tasarÄ±mÄ± iÃ§in 4 farklÄ± varyant oluÅtur: Modern, Colorful, Dark, Professional',
                    'navbar': 'Responsive navbar tasarÄ±mÄ± iÃ§in 4 varyant oluÅtur: A) HavalÄ±/Modern, B) Sade/Minimal, C) DetaylÄ±/Zengin, D) GÃ¶rsel AÄÄ±rlÄ±klÄ±',
                    'button': 'Button componentleri iÃ§in 4 varyant oluÅtur: A) HavalÄ±/Modern, B) Sade/Minimal, C) DetaylÄ±/Zengin, D) GÃ¶rsel AÄÄ±rlÄ±klÄ±'
                };
                
                return commands[component.id] || `${component.name} iÃ§in 4 varyant tasarÄ±m oluÅtur: A) HavalÄ±/Modern, B) Sade/Minimal, C) DetaylÄ±/Zengin, D) GÃ¶rsel AÄÄ±rlÄ±klÄ±`;
            }
            
            // Search Functions
            search(query) {
                const componentCards = document.querySelectorAll('.component-card');
                const categories = document.querySelectorAll('.category');
                
                if (query === '') {
                    componentCards.forEach(card => card.style.display = 'block');
                    categories.forEach(category => category.style.display = 'block');
                    return;
                }
                
                componentCards.forEach(card => card.style.display = 'none');
                categories.forEach(category => category.style.display = 'none');
                
                componentCards.forEach(card => {
                    const componentId = card.dataset.component;
                    const component = this.components[componentId];
                    
                    if (!component) return;
                    
                    const matches = component.name.toLowerCase().includes(query) ||
                                  component.description.toLowerCase().includes(query) ||
                                  component.keywords.some(keyword => keyword.toLowerCase().includes(query));
                    
                    if (matches) {
                        card.style.display = 'block';
                        card.closest('.category').style.display = 'block';
                    }
                });
            }
            
            // Event Binding
            bindEvents() {
                // Search functionality
                const searchInput = document.getElementById('searchInput');
                if (searchInput) {
                    searchInput.addEventListener('input', (e) => {
                        this.search(e.target.value.toLowerCase());
                    });
                }
                
                // Keyboard shortcuts
                document.addEventListener('keydown', (e) => {
                    if (e.ctrlKey && e.key === 'f') {
                        e.preventDefault();
                        searchInput?.focus();
                    }
                    
                    if (e.ctrlKey && e.key === 'k') {
                        e.preventDefault();
                        alert('ð¨ TasarÄ±m Hub KÄ±sayollarÄ±:\n\nâ¢ Ctrl+F: Arama\nâ¢ Ctrl+K: YardÄ±m\nâ¢ Ctrl+N: Yeni Component\nâ¢ ESC: Modal Kapat');
                    }
                    
                    if (e.ctrlKey && e.key === 'n') {
                        e.preventDefault();
                        this.showAddComponentModal();
                    }
                    
                    if (e.key === 'Escape') {
                        this.closeModal();
                    }
                });
            }
            
            // Variant Management Methods
            toggleVariants(componentId) {
                const component = this.components[componentId];
                if (!component) return;
                
                // Initialize variants if not exists
                if (!component.variants) {
                    component.variants = [];
                }
                
                // Find the component card
                const componentCard = document.querySelector(`[data-component="${componentId}"]`);
                if (!componentCard) return;
                
                // Look for existing variant section
                let variantSection = componentCard.querySelector('.variant-section');
                
                if (variantSection) {
                    // Toggle visibility
                    const isVisible = variantSection.style.display !== 'none';
                    variantSection.style.display = isVisible ? 'none' : 'block';
                } else {
                    // Generate initial variants if none exist
                    if (component.variants.length === 0) {
                        this.generateInitialVariants(componentId);
                    }
                    
                    // Create and append variant section
                    const variantHTML = window.variantManager.renderVariantSection(componentId, component.variants || []);
                    componentCard.insertAdjacentHTML('beforeend', variantHTML);
                }
            }
            
            generateInitialVariants(componentId) {
                const component = this.components[componentId];
                if (!component) return;
                
                // Generate 4 initial variants
                const variantTypes = ['A', 'B', 'C', 'D'];
                const variantNames = {
                    'A': 'HavalÄ±/Modern',
                    'B': 'Sade/Minimal', 
                    'C': 'DetaylÄ±/Zengin',
                    'D': 'GÃ¶rsel AÄÄ±rlÄ±klÄ±'
                };
                
                component.variants = variantTypes.map(type => ({
                    id: `${componentId}-${type}`,
                    type: type,
                    name: variantNames[type],
                    status: 'pending',
                    level: 1,
                    parent: null,
                    created: new Date().toISOString(),
                    description: `${component.name} - ${variantNames[type]} varyantÄ±`
                }));
                
                this.saveData();
                 this.showNotification(`${component.name} iÃ§in 4 varyant oluÅturuldu!`);
             }
             
             // Helper methods for variant management
             findComponentByVariant(variantId) {
                 for (const [componentId, component] of Object.entries(this.components)) {
                     if (component.variants && component.variants.some(v => v.id === variantId)) {
                         return { ...component, id: componentId };
                     }
                 }
                 return null;
             }
             
             saveComponent(component) {
                 if (component.id) {
                     this.components[component.id] = component;
                     this.saveData();
                 }
             }
             
             renderComponents() {
                 this.render();
             }
         }
        
        // Variant Management System
        class VariantManager {
            constructor() {
                this.variantTypes = {
                    A: { name: 'HavalÄ±/Modern', class: 'havali', description: 'Cesur tasarÄ±m, gradient, animasyonlar' },
                    B: { name: 'Sade/Minimal', class: 'sade', description: 'Temiz, az element, Ã§ok boÅluk' },
                    C: { name: 'DetaylÄ±/Zengin', class: 'detayli', description: 'Ãok eleman, ikon, rozet, bilgi yoÄun' },
                    D: { name: 'GÃ¶rsel AÄÄ±rlÄ±klÄ±', class: 'gorsel', description: 'BÃ¼yÃ¼k resim, az metin, gÃ¶rsel odaklÄ±' }
                };
            }

            generateVariants(componentId, level = 1, parentVariant = null) {
                const variants = [];
                const levelPrefix = level === 1 ? '' : `${parentVariant}.`;
                
                Object.keys(this.variantTypes).forEach(key => {
                    const type = this.variantTypes[key];
                    variants.push({
                        id: `${componentId}-${levelPrefix}${key}`,
                        componentId: componentId,
                        type: key,
                        name: type.name,
                        description: type.description,
                        level: level,
                        parent: parentVariant,
                        status: 'pending',
                        created: new Date().toISOString(),
                        filePath: null,
                        previewUrl: null
                    });
                });
                
                return variants;
            }

            renderVariantSection(componentId, variants) {
                if (!variants || variants.length === 0) return '';
                
                const levels = [...new Set(variants.map(v => v.level))].sort();
                let html = '';
                
                levels.forEach(level => {
                    const levelVariants = variants.filter(v => v.level === level);
                    if (levelVariants.length === 0) return;
                    
                    html += `
                        <div class="variant-section">
                            <div class="variant-header">
                                <div class="variant-title">
                                    <span>ð¨ Varyantlar</span>
                                    <span class="variant-badge">Level ${level}</span>
                                </div>
                                ${level === 1 ? `<button class="action-btn" onclick="variantManager.generateNewVariants('${componentId}')">+ Yeni Varyant</button>` : ''}
                            </div>
                            <div class="variant-grid">
                                ${levelVariants.map(variant => this.renderVariantCard(variant)).join('')}
                            </div>
                        </div>
                    `;
                });
                
                return html;
            }

            renderVariantCard(variant) {
                const type = this.variantTypes[variant.type] || { 
                    name: `Variant ${variant.type}`, 
                    class: 'default', 
                    description: 'File system variant' 
                };
                const levelDots = Array.from({length: variant.level}, (_, i) => 
                    `<div class="level-dot ${i < variant.level ? 'active' : ''}"></div>`
                ).join('');
                
                return `
                    <div class="variant-card" data-variant-id="${variant.id}">
                        <div class="level-indicator">
                            ${levelDots}
                            <span class="level-text">Level ${variant.level}</span>
                        </div>
                        <div class="variant-type">
                            <span class="variant-type-badge ${type.class}">${variant.type}</span>
                            <span class="variant-name">${type.name}</span>
                        </div>
                        <div class="variant-description">${type.description}</div>
                        <div class="variant-actions">
                            <button class="variant-btn preview" onclick="variantManager.previewVariant('${variant.id}')">
                                ðï¸ Ãnizle
                            </button>
                            <button class="variant-btn context" onclick="contextTestingManager.startPopupTest('${variant.id}')">
                                ð BaÄlamda Ãnizle
                            </button>
                            <button class="variant-btn approve" onclick="variantManager.approveVariant('${variant.id}')">
                                â Onayla
                            </button>
                            <button class="variant-btn branch" onclick="variantManager.branchVariant('${variant.id}')">
                                ð¿ DallandÄ±r
                            </button>
                            <button class="variant-btn tools" onclick="variantManager.openDesignTools('${variant.id}')">
                                ð ï¸ AraÃ§lar
                            </button>
                            <button class="variant-btn compare" onclick="variantManager.compareVariants('${variant.id}')">
                                âï¸ KarÅÄ±laÅtÄ±r
                            </button>
                            <button class="variant-btn delete" onclick="variantManager.deleteVariant('${variant.id}')">
                                ðï¸ Sil
                            </button>
                        </div>
                    </div>
                `;
            }

            generateNewVariants(componentId) {
                const component = componentManager.getComponent(componentId);
                if (!component) return;
                
                const newVariants = this.generateVariants(componentId);
                component.variants = [...(component.variants || []), ...newVariants];
                componentManager.saveComponent(component);
                componentManager.renderComponents();
                
                this.showNotification('â¨ 4 yeni varyant oluÅturuldu!', 'success');
            }

            previewVariant(variantId) {
                const component = componentManager.findComponentByVariant(variantId);
                if (!component) return;
                
                const variant = component.variants.find(v => v.id === variantId);
                if (!variant) return;
                
                this.showPreviewModal(component, variant);
            }

            showPreviewModal(component, variant) {
                const modal = document.createElement('div');
                modal.className = 'preview-modal';
                modal.innerHTML = `
                    <div class="preview-container">
                        <div class="preview-header">
                            <div class="preview-title">
                                <span>ð± ${component.name}</span>
                                <span class="preview-variant-badge" style="background: ${this.getVariantColor(variant.type)}; color: white;">
                                    ${variant.name}
                                </span>
                            </div>
                            <div class="preview-actions">
                                <button class="preview-btn compare" onclick="variantManager.showCompareModal('${variant.id}')">
                                    âï¸ KarÅÄ±laÅtÄ±r
                                </button>
                                <button class="preview-btn fullscreen" onclick="variantManager.toggleFullscreen()">
                                    ð Tam Ekran
                                </button>
                                <button class="preview-btn close" onclick="variantManager.closePreview()">
                                    â Kapat
                                </button>
                            </div>
                        </div>
                        <div class="preview-content">
                            ${this.generatePreviewContent(component, variant)}
                        </div>
                    </div>
                `;
                
                document.body.appendChild(modal);
                this.currentPreviewModal = modal;
                
                // Close on background click
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) {
                        this.closePreview();
                    }
                });
                
                // ESC key to close
                document.addEventListener('keydown', this.handlePreviewKeydown);
            }

            generatePreviewContent(component, variant) {
                // Generate realistic preview content based on component type and variant
                const previewTemplates = {
                    'HavalÄ±/Modern': `
                        <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 40px; border-radius: 20px; color: white; text-align: center; margin-bottom: 20px;">
                            <h2 style="margin: 0 0 16px 0; font-size: 2.5rem; font-weight: 700;">${component.name}</h2>
                            <p style="margin: 0; font-size: 1.2rem; opacity: 0.9;">${component.description}</p>
                        </div>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                            <div style="background: #f8f9fa; padding: 24px; border-radius: 16px; border-left: 4px solid #667eea;">
                                <h3 style="margin: 0 0 12px 0; color: #667eea;">â¨ Modern TasarÄ±m</h3>
                                <p style="margin: 0; color: #6c757d;">Gradient arka planlar, yumuÅak kÃ¶Åeler ve modern tipografi</p>
                            </div>
                            <div style="background: #f8f9fa; padding: 24px; border-radius: 16px; border-left: 4px solid #764ba2;">
                                <h3 style="margin: 0 0 12px 0; color: #764ba2;">ð¨ GÃ¶rsel Etki</h3>
                                <p style="margin: 0; color: #6c757d;">ÃarpÄ±cÄ± renkler ve dinamik dÃ¼zenlemeler</p>
                            </div>
                        </div>
                    `,
                    'Sade/Minimal': `
                        <div style="border: 2px solid #e9ecef; padding: 40px; border-radius: 8px; margin-bottom: 20px;">
                            <h2 style="margin: 0 0 16px 0; font-size: 2rem; font-weight: 400; color: #212529;">${component.name}</h2>
                            <p style="margin: 0; font-size: 1rem; color: #6c757d; line-height: 1.6;">${component.description}</p>
                        </div>
                        <div style="display: flex; flex-direction: column; gap: 16px;">
                            <div style="padding: 20px; border: 1px solid #dee2e6; border-radius: 4px;">
                                <h3 style="margin: 0 0 8px 0; font-size: 1.1rem; font-weight: 500; color: #495057;">Sadelik</h3>
                                <p style="margin: 0; font-size: 0.9rem; color: #6c757d;">Gereksiz Ã¶Äeler kaldÄ±rÄ±lmÄ±Å, odak noktasÄ± net</p>
                            </div>
                            <div style="padding: 20px; border: 1px solid #dee2e6; border-radius: 4px;">
                                <h3 style="margin: 0 0 8px 0; font-size: 1.1rem; font-weight: 500; color: #495057;">Temizlik</h3>
                                <p style="margin: 0; font-size: 0.9rem; color: #6c757d;">Beyaz alan kullanÄ±mÄ± ve dÃ¼zenli hiyerarÅi</p>
                            </div>
                        </div>
                    `,
                    'DetaylÄ±/Zengin': `
                        <div style="background: linear-gradient(45deg, #f8f9fa, #e9ecef); padding: 40px; border-radius: 12px; border: 1px solid #dee2e6; margin-bottom: 20px; position: relative; overflow: hidden;">
                            <div style="position: absolute; top: -50px; right: -50px; width: 100px; height: 100px; background: rgba(0,123,255,0.1); border-radius: 50%;"></div>
                            <h2 style="margin: 0 0 16px 0; font-size: 2.2rem; font-weight: 600; color: #212529;">${component.name}</h2>
                            <p style="margin: 0 0 24px 0; font-size: 1.1rem; color: #495057; line-height: 1.7;">${component.description}</p>
                            <div style="display: flex; gap: 12px; flex-wrap: wrap;">
                                <span style="background: #007bff; color: white; padding: 6px 12px; border-radius: 20px; font-size: 0.85rem;">DetaylÄ±</span>
                                <span style="background: #28a745; color: white; padding: 6px 12px; border-radius: 20px; font-size: 0.85rem;">Zengin Ä°Ã§erik</span>
                                <span style="background: #ffc107; color: #212529; padding: 6px 12px; border-radius: 20px; font-size: 0.85rem;">Ãok Ãzellik</span>
                            </div>
                        </div>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px;">
                            <div style="background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); border-left: 4px solid #007bff;">
                                <h4 style="margin: 0 0 8px 0; color: #007bff;">ð Analitik</h4>
                                <p style="margin: 0; font-size: 0.9rem; color: #6c757d;">DetaylÄ± veri gÃ¶rselleÅtirme</p>
                            </div>
                            <div style="background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); border-left: 4px solid #28a745;">
                                <h4 style="margin: 0 0 8px 0; color: #28a745;">âï¸ Ayarlar</h4>
                                <p style="margin: 0; font-size: 0.9rem; color: #6c757d;">KapsamlÄ± konfigÃ¼rasyon</p>
                            </div>
                            <div style="background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); border-left: 4px solid #ffc107;">
                                <h4 style="margin: 0 0 8px 0; color: #e0a800;">ð§ AraÃ§lar</h4>
                                <p style="margin: 0; font-size: 0.9rem; color: #6c757d;">GeliÅmiÅ Ã¶zellikler</p>
                            </div>
                        </div>
                    `,
                    'GÃ¶rsel AÄÄ±rlÄ±klÄ±': `
                        <div style="position: relative; margin-bottom: 24px;">
                            <div style="background: linear-gradient(135deg, #ff6b6b, #feca57, #48dbfb, #ff9ff3); height: 200px; border-radius: 16px; display: flex; align-items: center; justify-content: center; color: white; text-align: center;">
                                <div>
                                    <h2 style="margin: 0 0 12px 0; font-size: 2.5rem; font-weight: 700; text-shadow: 2px 2px 4px rgba(0,0,0,0.3);">${component.name}</h2>
                                    <p style="margin: 0; font-size: 1.2rem; text-shadow: 1px 1px 2px rgba(0,0,0,0.3);">${component.description}</p>
                                </div>
                            </div>
                        </div>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 16px;">
                            <div style="text-align: center; padding: 20px; background: #f8f9fa; border-radius: 12px;">
                                <div style="font-size: 3rem; margin-bottom: 8px;">ð¨</div>
                                <h4 style="margin: 0 0 4px 0; color: #495057;">GÃ¶rsel TasarÄ±m</h4>
                                <p style="margin: 0; font-size: 0.85rem; color: #6c757d;">ÃarpÄ±cÄ± gÃ¶rseller</p>
                            </div>
                            <div style="text-align: center; padding: 20px; background: #f8f9fa; border-radius: 12px;">
                                <div style="font-size: 3rem; margin-bottom: 8px;">ð¸</div>
                                <h4 style="margin: 0 0 4px 0; color: #495057;">Medya OdaklÄ±</h4>
                                <p style="margin: 0; font-size: 0.85rem; color: #6c757d;">Resim ve video</p>
                            </div>
                            <div style="text-align: center; padding: 20px; background: #f8f9fa; border-radius: 12px;">
                                <div style="font-size: 3rem; margin-bottom: 8px;">ð</div>
                                <h4 style="margin: 0 0 4px 0; color: #495057;">Renk Paleti</h4>
                                <p style="margin: 0; font-size: 0.85rem; color: #6c757d;">CanlÄ± renkler</p>
                            </div>
                        </div>
                    `
                };

                return previewTemplates[variant.name] || `
                    <div class="preview-placeholder">
                        <div class="preview-placeholder-icon">ð¨</div>
                        <div class="preview-placeholder-text">${variant.name} Ãnizlemesi</div>
                        <div class="preview-placeholder-desc">${component.description}</div>
                    </div>
                `;
            }

            closePreview() {
                if (this.currentPreviewModal) {
                    document.body.removeChild(this.currentPreviewModal);
                    this.currentPreviewModal = null;
                    document.removeEventListener('keydown', this.handlePreviewKeydown);
                }
            }

            handlePreviewKeydown = (e) => {
                if (e.key === 'Escape') {
                    this.closePreview();
                }
            }

            toggleFullscreen() {
                if (this.currentPreviewModal) {
                    const container = this.currentPreviewModal.querySelector('.preview-container');
                    if (container.style.maxWidth === '100vw') {
                        container.style.maxWidth = '95vw';
                        container.style.maxHeight = '95vh';
                    } else {
                        container.style.maxWidth = '100vw';
                        container.style.maxHeight = '100vh';
                        container.style.borderRadius = '0';
                    }
                }
            }

            approveVariant(variantId) {
                const component = componentManager.findComponentByVariant(variantId);
                if (!component) return;
                
                const variant = component.variants.find(v => v.id === variantId);
                if (!variant) return;
                
                this.showApprovalConfirmation(component, variant);
            }

            showApprovalConfirmation(component, variant) {
                const modal = document.createElement('div');
                modal.className = 'approval-modal';
                modal.innerHTML = `
                    <div class="approval-container">
                        <div class="approval-header">
                            <h3>ð¯ Varyant Onaylama</h3>
                            <button class="approval-close" onclick="variantManager.closeApprovalModal()">â</button>
                        </div>
                        <div class="approval-content">
                            <div class="approval-info">
                                <div class="approval-component">
                                    <strong>${component.name}</strong>
                                    <span class="approval-category">${component.category}</span>
                                </div>
                                <div class="approval-variant">
                                    <span class="approval-variant-badge" style="background: ${this.getVariantColor(variant.type)}; color: white;">
                                        ${variant.name}
                                    </span>
                                    <span class="approval-variant-type">${variant.type}</span>
                                </div>
                            </div>
                            
                            <div class="approval-warning">
                                <div class="approval-warning-icon">â ï¸</div>
                                <div class="approval-warning-text">
                                    <strong>Bu iÅlem geri alÄ±namaz!</strong>
                                    <p>Bu varyantÄ± onayladÄ±ÄÄ±nÄ±zda:</p>
                                    <ul>
                                        <li>DiÄer pending varyantlar otomatik olarak reddedilecek</li>
                                        <li>Component durumu "approved" olarak iÅaretlenecek</li>
                                        <li>Onay geÃ§miÅi kaydedilecek</li>
                                        <li>Approved klasÃ¶rÃ¼ne taÅÄ±nacak</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="approval-actions">
                                <button class="approval-btn cancel" onclick="variantManager.closeApprovalModal()">
                                    â Ä°ptal
                                </button>
                                <button class="approval-btn confirm" onclick="variantManager.confirmApproval('${variant.id}')">
                                    â Onayla
                                </button>
                            </div>
                        </div>
                    </div>
                `;
                
                document.body.appendChild(modal);
                this.currentApprovalModal = modal;
                
                // Close on background click
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) {
                        this.closeApprovalModal();
                    }
                });
                
                // ESC key to close
                document.addEventListener('keydown', this.handleApprovalKeydown);
            }

            confirmApproval(variantId) {
                const component = componentManager.findComponentByVariant(variantId);
                if (!component) return;
                
                const variant = component.variants.find(v => v.id === variantId);
                if (!variant) return;
                
                // Create approval history entry
                const approvalEntry = {
                    id: `approval-${Date.now()}`,
                    variantId: variant.id,
                    variantName: variant.name,
                    componentName: component.name,
                    timestamp: new Date().toISOString(),
                    user: 'Current User', // In real app, get from auth
                    previousStatus: variant.status,
                    newStatus: 'approved',
                    rejectedVariants: component.variants
                        .filter(v => v.id !== variantId && v.status === 'pending')
                        .map(v => ({ id: v.id, name: v.name }))
                };
                
                // Update variant status
                variant.status = 'approved';
                variant.approved = new Date().toISOString();
                variant.approvedBy = 'Current User';
                
                // Move other variants to rejected
                component.variants.forEach(v => {
                    if (v.id !== variantId && v.status === 'pending') {
                        v.status = 'rejected';
                        v.rejectedAt = new Date().toISOString();
                        v.rejectedReason = 'Another variant was approved';
                    }
                });
                
                // Update component status
                component.status = 'approved';
                component.approvedAt = new Date().toISOString();
                
                // Save approval history
                this.saveApprovalHistory(approvalEntry);
                
                // Save component
                componentManager.saveComponent(component);
                
                // Post-approval actions
                this.performPostApprovalActions(component, variant);
                
                // Close modal and refresh UI
                this.closeApprovalModal();
                componentManager.renderComponents();
                
                // Show success notification with details
                this.showApprovalSuccessNotification(component, variant, approvalEntry);
            }

            saveApprovalHistory(approvalEntry) {
                let history = JSON.parse(localStorage.getItem('approval-history') || '[]');
                history.unshift(approvalEntry); // Add to beginning
                
                // Keep only last 100 entries
                if (history.length > 100) {
                    history = history.slice(0, 100);
                }
                
                localStorage.setItem('approval-history', JSON.stringify(history));
            }

            performPostApprovalActions(component, variant) {
                // 1. Create approved version file (simulated)
                const approvedVersion = {
                    id: `approved-${component.id}-v${this.getNextVersionNumber(component)}`,
                    componentId: component.id,
                    variantId: variant.id,
                    version: this.getNextVersionNumber(component),
                    createdAt: new Date().toISOString(),
                    filePath: `approved/${component.name.toLowerCase()}/v${this.getNextVersionNumber(component)}.html`,
                    metadata: {
                        componentName: component.name,
                        variantName: variant.name,
                        variantType: variant.type,
                        category: component.category,
                        approvedBy: 'Current User'
                    }
                };
                
                // 2. Update component library
                this.updateComponentLibrary(component, variant, approvedVersion);
                
                // 3. Update design system documentation
                this.updateDesignSystemDocs(component, variant);
                
                // 4. Trigger any integrations (webhooks, notifications, etc.)
                this.triggerApprovalIntegrations(component, variant);
            }

            getNextVersionNumber(component) {
                // Get existing approved versions for this component
                const approvedVersions = JSON.parse(localStorage.getItem('approved-versions') || '[]');
                const componentVersions = approvedVersions.filter(v => v.componentId === component.id);
                return componentVersions.length + 1;
            }

            updateComponentLibrary(component, variant, approvedVersion) {
                // Save approved version
                let approvedVersions = JSON.parse(localStorage.getItem('approved-versions') || '[]');
                approvedVersions.push(approvedVersion);
                localStorage.setItem('approved-versions', JSON.stringify(approvedVersions));
                
                // Update component library index
                let componentLibrary = JSON.parse(localStorage.getItem('component-library') || '{}');
                if (!componentLibrary[component.category]) {
                    componentLibrary[component.category] = {};
                }
                
                componentLibrary[component.category][component.name] = {
                    latestVersion: approvedVersion.version,
                    totalVersions: this.getNextVersionNumber(component),
                    lastUpdated: new Date().toISOString(),
                    status: 'approved',
                    variantType: variant.type
                };
                
                localStorage.setItem('component-library', JSON.stringify(componentLibrary));
            }

            updateDesignSystemDocs(component, variant) {
                // Update design system documentation (simulated)
                let designSystemDocs = JSON.parse(localStorage.getItem('design-system-docs') || '{}');
                
                if (!designSystemDocs.components) {
                    designSystemDocs.components = {};
                }
                
                designSystemDocs.components[component.name] = {
                    category: component.category,
                    approvedVariant: variant.type,
                    lastUpdated: new Date().toISOString(),
                    usage: `Use this ${variant.type.toLowerCase()} variant for ${component.category.toLowerCase()} components`,
                    guidelines: `Follow the ${variant.type} design principles for consistency`
                };
                
                designSystemDocs.lastUpdated = new Date().toISOString();
                localStorage.setItem('design-system-docs', JSON.stringify(designSystemDocs));
            }

            triggerApprovalIntegrations(component, variant) {
                // Simulate integration triggers
                console.log(`ð Integration triggered for ${component.name} - ${variant.name}`);
                
                // In a real app, this would:
                // - Send webhook notifications
                // - Update external design systems (Figma, Storybook)
                // - Notify team members
                // - Update project management tools
                // - Generate documentation
            }

            showApprovalSuccessNotification(component, variant, approvalEntry) {
                const notification = document.createElement('div');
                notification.className = 'approval-success-notification';
                notification.innerHTML = `
                    <div class="approval-success-content">
                        <div class="approval-success-icon">ð</div>
                        <div class="approval-success-text">
                            <strong>Varyant BaÅarÄ±yla OnaylandÄ±!</strong>
                            <p>${component.name} - ${variant.name}</p>
                            <div class="approval-success-details">
                                <span>ð v${this.getNextVersionNumber(component)} olarak kaydedildi</span>
                                <span>ð ${new Date().toLocaleTimeString('tr-TR')}</span>
                            </div>
                        </div>
                        <button onclick="this.parentElement.parentElement.remove()">â</button>
                    </div>
                `;
                
                document.body.appendChild(notification);
                
                // Auto remove after 5 seconds
                setTimeout(() => {
                    if (notification.parentElement) {
                        notification.remove();
                    }
                }, 5000);
            }

            closeApprovalModal() {
                if (this.currentApprovalModal) {
                    this.currentApprovalModal.remove();
                    this.currentApprovalModal = null;
                    document.removeEventListener('keydown', this.handleApprovalKeydown);
                }
            }

            handleApprovalKeydown = (e) => {
                if (e.key === 'Escape') {
                    this.closeApprovalModal();
                }
            }

            branchVariant(variantId) {
                const component = componentManager.findComponentByVariant(variantId);
                if (!component) return;
                
                const variant = component.variants.find(v => v.id === variantId);
                if (!variant) return;

                // Only allow branching from approved variants
                if (variant.status !== 'approved') {
                    this.showNotification('â ï¸ Sadece onaylÄ± varyantlardan dal oluÅturabilirsiniz!', 'warning');
                    return;
                }

                this.showBranchingModal(component, variant);
            }

            showBranchingModal(component, parentVariant) {
                const modal = document.createElement('div');
                modal.className = 'branching-modal';
                modal.innerHTML = `
                    <div class="branching-container">
                        <div class="branching-header">
                            <h3>ð¿ Yeni Dal OluÅtur</h3>
                            <button class="branching-close" onclick="this.closest('.branching-modal').remove()">Ã</button>
                        </div>
                        <div class="branching-content">
                            <div class="branching-info">
                                <div class="branching-parent">
                                    <strong>${component.name}</strong>
                                    <span class="branching-parent-badge">${parentVariant.name}</span>
                                </div>
                                <div class="branching-description">
                                    Bu varyanttan yeni dallar oluÅturacaksÄ±nÄ±z. Her dal, ana varyantÄ±n Ã¶zelliklerini miras alÄ±r.
                                </div>
                            </div>
                            
                            <div class="branching-options">
                                <h4>Dallanma SeÃ§enekleri:</h4>
                                <div class="branching-types">
                                    <label class="branching-type">
                                        <input type="radio" name="branchType" value="iteration" checked>
                                        <div class="branching-type-content">
                                            <strong>ð Ä°terasyon DallarÄ±</strong>
                                            <p>AynÄ± tarzda 4 farklÄ± varyasyon (A.1, A.2, A.3, A.4)</p>
                                        </div>
                                    </label>
                                    <label class="branching-type">
                                        <input type="radio" name="branchType" value="style">
                                        <div class="branching-type-content">
                                            <strong>ð¨ Stil DallarÄ±</strong>
                                            <p>FarklÄ± stil yaklaÅÄ±mlarÄ± (Modern, Minimal, DetaylÄ±, HavalÄ±)</p>
                                        </div>
                                    </label>
                                    <label class="branching-type">
                                        <input type="radio" name="branchType" value="custom">
                                        <div class="branching-type-content">
                                            <strong>âï¸ Ãzel Dallar</strong>
                                            <p>Kendiniz belirleyeceÄiniz Ã¶zel varyantlar</p>
                                        </div>
                                    </label>
                                </div>
                            </div>

                            <div class="branching-preview" id="branchingPreview">
                                <!-- Dynamic preview will be inserted here -->
                            </div>
                        </div>
                        <div class="branching-actions">
                            <button class="branching-btn cancel" onclick="this.closest('.branching-modal').remove()">Ä°ptal</button>
                            <button class="branching-btn confirm" onclick="variantManager.confirmBranching('${component.id}', '${parentVariant.id}')">
                                ð¿ DallarÄ± OluÅtur
                            </button>
                        </div>
                    </div>
                `;

                document.body.appendChild(modal);
                this.updateBranchingPreview(component, parentVariant);

                // Add event listeners for radio buttons
                modal.querySelectorAll('input[name="branchType"]').forEach(radio => {
                    radio.addEventListener('change', () => {
                        this.updateBranchingPreview(component, parentVariant);
                    });
                });

                // Add keyboard support
                modal.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape') {
                        modal.remove();
                    }
                });
            }

            updateBranchingPreview(component, parentVariant) {
                const modal = document.querySelector('.branching-modal');
                if (!modal) return;

                const selectedType = modal.querySelector('input[name="branchType"]:checked').value;
                const preview = modal.querySelector('#branchingPreview');
                
                let branches = [];
                
                switch (selectedType) {
                    case 'iteration':
                        branches = this.generateIterationBranches(component, parentVariant);
                        break;
                    case 'style':
                        branches = this.generateStyleBranches(component, parentVariant);
                        break;
                    case 'custom':
                        branches = this.generateCustomBranches(component, parentVariant);
                        break;
                }

                preview.innerHTML = `
                    <h4>OluÅturulacak Dallar:</h4>
                    <div class="branch-preview-grid">
                        ${branches.map(branch => `
                            <div class="branch-preview-card">
                                <div class="branch-preview-header">
                                    <span class="branch-preview-name">${branch.name}</span>
                                    <span class="branch-preview-id">${branch.branchId}</span>
                                </div>
                                <div class="branch-preview-description">${branch.description}</div>
                                <div class="branch-preview-type">${branch.type}</div>
                            </div>
                        `).join('')}
                    </div>
                `;
            }

            generateIterationBranches(component, parentVariant) {
                const parentId = parentVariant.id.split('-').pop();
                return [
                    {
                        branchId: `${parentId}.1`,
                        name: `${parentVariant.name} - Ä°terasyon 1`,
                        description: 'Ana varyantÄ±n geliÅtirilmiÅ versiyonu',
                        type: 'iteration'
                    },
                    {
                        branchId: `${parentId}.2`,
                        name: `${parentVariant.name} - Ä°terasyon 2`,
                        description: 'Alternatif yaklaÅÄ±m ile geliÅtirilmiÅ versiyon',
                        type: 'iteration'
                    },
                    {
                        branchId: `${parentId}.3`,
                        name: `${parentVariant.name} - Ä°terasyon 3`,
                        description: 'FarklÄ± detay seviyesi ile geliÅtirilmiÅ versiyon',
                        type: 'iteration'
                    },
                    {
                        branchId: `${parentId}.4`,
                        name: `${parentVariant.name} - Ä°terasyon 4`,
                        description: 'Deneysel Ã¶zellikler ile geliÅtirilmiÅ versiyon',
                        type: 'iteration'
                    }
                ];
            }

            generateStyleBranches(component, parentVariant) {
                const parentId = parentVariant.id.split('-').pop();
                return [
                    {
                        branchId: `${parentId}.M`,
                        name: `${parentVariant.name} - Modern`,
                        description: 'Modern tasarÄ±m dili ile yeniden yorumlanmÄ±Å',
                        type: 'modern'
                    },
                    {
                        branchId: `${parentId}.S`,
                        name: `${parentVariant.name} - Sade`,
                        description: 'Minimalist yaklaÅÄ±m ile sadeleÅtirilmiÅ',
                        type: 'minimal'
                    },
                    {
                        branchId: `${parentId}.D`,
                        name: `${parentVariant.name} - DetaylÄ±`,
                        description: 'Zengin detaylar ve Ã¶zellikler ile geliÅtirilmiÅ',
                        type: 'detailed'
                    },
                    {
                        branchId: `${parentId}.H`,
                        name: `${parentVariant.name} - HavalÄ±`,
                        description: 'ÃarpÄ±cÄ± ve etkileyici tasarÄ±m ile yeniden tasarlanmÄ±Å',
                        type: 'cool'
                    }
                ];
            }

            generateCustomBranches(component, parentVariant) {
                const parentId = parentVariant.id.split('-').pop();
                return [
                    {
                        branchId: `${parentId}.C1`,
                        name: `${parentVariant.name} - Ãzel 1`,
                        description: 'ÃzelleÅtirilebilir dal 1',
                        type: 'custom'
                    },
                    {
                        branchId: `${parentId}.C2`,
                        name: `${parentVariant.name} - Ãzel 2`,
                        description: 'ÃzelleÅtirilebilir dal 2',
                        type: 'custom'
                    },
                    {
                        branchId: `${parentId}.C3`,
                        name: `${parentVariant.name} - Ãzel 3`,
                        description: 'ÃzelleÅtirilebilir dal 3',
                        type: 'custom'
                    }
                ];
            }

            confirmBranching(componentId, parentVariantId) {
                const modal = document.querySelector('.branching-modal');
                if (!modal) return;

                const selectedType = modal.querySelector('input[name="branchType"]:checked').value;
                const component = componentManager.findComponentByVariant(parentVariantId);
                const parentVariant = component.variants.find(v => v.id === parentVariantId);

                let branches = [];
                switch (selectedType) {
                    case 'iteration':
                        branches = this.generateIterationBranches(component, parentVariant);
                        break;
                    case 'style':
                        branches = this.generateStyleBranches(component, parentVariant);
                        break;
                    case 'custom':
                        branches = this.generateCustomBranches(component, parentVariant);
                        break;
                }

                // Create new variants from branches
                const newVariants = branches.map(branch => ({
                    id: `${componentId}-${branch.branchId}`,
                    componentId: componentId,
                    type: branch.type,
                    name: branch.name,
                    description: branch.description,
                    level: parentVariant.level + 1,
                    parent: parentVariantId,
                    branchId: branch.branchId,
                    status: 'pending',
                    created: new Date().toISOString(),
                    filePath: null,
                    previewUrl: null
                }));

                // Add new variants to component
                component.variants = [...component.variants, ...newVariants];
                componentManager.saveComponent(component);

                // Save branching history
                this.saveBranchingHistory(component, parentVariant, newVariants, selectedType);

                // Re-render components
                componentManager.renderComponents();

                // Close modal and show success
                modal.remove();
                this.showBranchingSuccessNotification(parentVariant, newVariants.length, selectedType);
            }

            saveBranchingHistory(component, parentVariant, newVariants, branchType) {
                let branchingHistory = JSON.parse(localStorage.getItem('branching-history') || '[]');
                
                const branchingRecord = {
                    id: `branch-${Date.now()}`,
                    componentId: component.id,
                    componentName: component.name,
                    parentVariantId: parentVariant.id,
                    parentVariantName: parentVariant.name,
                    branchType: branchType,
                    branchCount: newVariants.length,
                    branches: newVariants.map(v => ({
                        id: v.id,
                        name: v.name,
                        branchId: v.branchId
                    })),
                    timestamp: new Date().toISOString()
                };

                branchingHistory.push(branchingRecord);
                localStorage.setItem('branching-history', JSON.stringify(branchingHistory));
            }

            showBranchingSuccessNotification(parentVariant, branchCount, branchType) {
                const typeNames = {
                    iteration: 'Ä°terasyon',
                    style: 'Stil',
                    custom: 'Ãzel'
                };

                const notification = document.createElement('div');
                notification.className = 'branching-success-notification';
                notification.innerHTML = `
                    <div class="branching-success-content">
                        <div class="branching-success-icon">ð¿</div>
                        <div class="branching-success-text">
                            <strong>Dallanma BaÅarÄ±lÄ±!</strong>
                            <p>${parentVariant.name} varyantÄ±ndan ${branchCount} yeni ${typeNames[branchType]} dalÄ± oluÅturuldu.</p>
                            <div class="branching-success-details">
                                <span>ð ${new Date().toLocaleString('tr-TR')}</span>
                                <span>ð¯ Tip: ${typeNames[branchType]}</span>
                            </div>
                        </div>
                        <button onclick="this.closest('.branching-success-notification').remove()">Ã</button>
                    </div>
                `;

                document.body.appendChild(notification);

                // Auto remove after 5 seconds
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.remove();
                    }
                }, 5000);
            }

            openDesignTools(variantId) {
                const component = componentManager.findComponentByVariant(variantId);
                if (!component) return;
                
                const variant = component.variants.find(v => v.id === variantId);
                if (!variant) return;

                this.showDesignToolsModal(component, variant);
            }

            showDesignToolsModal(component, variant) {
                const modal = document.createElement('div');
                modal.className = 'design-tools-modal';
                modal.innerHTML = `
                    <div class="design-tools-container">
                        <div class="design-tools-header">
                            <h3>ð ï¸ TasarÄ±m AraÃ§larÄ±</h3>
                            <button class="design-tools-close" onclick="this.closest('.design-tools-modal').remove()">Ã</button>
                        </div>
                        <div class="design-tools-content">
                            <div class="design-tools-info">
                                <div class="design-tools-target">
                                    <strong>${component.name}</strong>
                                    <span class="design-tools-variant-badge">${variant.name}</span>
                                </div>
                                <div class="design-tools-description">
                                    Bu varyant Ã¼zerinde tasarÄ±m araÃ§larÄ±nÄ± kullanarak deÄiÅiklik yapabilirsiniz.
                                </div>
                            </div>
                            
                            <div class="design-tools-grid">
                                <div class="design-tool-card" onclick="variantManager.activateElementPicker('${variant.id}')">
                                    <div class="design-tool-icon">ð¯</div>
                                    <div class="design-tool-content">
                                        <h4>Element Picker</h4>
                                        <p>Sayfa Ã¼zerindeki elementleri seÃ§in ve dÃ¼zenleyin</p>
                                        <div class="design-tool-features">
                                            <span>â¢ Element seÃ§imi</span>
                                            <span>â¢ Ãzellik dÃ¼zenleme</span>
                                            <span>â¢ Stil deÄiÅiklikleri</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="design-tool-card" onclick="variantManager.activateBoundaryTool('${variant.id}')">
                                    <div class="design-tool-icon">ð</div>
                                    <div class="design-tool-content">
                                        <h4>Boundary Tool</h4>
                                        <p>TasarÄ±m sÄ±nÄ±rlarÄ±nÄ± belirleyin ve dÃ¼zenleyin</p>
                                        <div class="design-tool-features">
                                            <span>â¢ SÄ±nÄ±r Ã§izimi</span>
                                            <span>â¢ Alan belirleme</span>
                                            <span>â¢ ÃlÃ§Ã¼ ayarlama</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="design-tool-card" onclick="variantManager.activateAddTool('${variant.id}')">
                                    <div class="design-tool-icon">â</div>
                                    <div class="design-tool-content">
                                        <h4>Add Tool</h4>
                                        <p>Yeni elementler ekleyin ve konumlandÄ±rÄ±n</p>
                                        <div class="design-tool-features">
                                            <span>â¢ Element ekleme</span>
                                            <span>â¢ KonumlandÄ±rma</span>
                                            <span>â¢ ÃzelleÅtirme</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="design-tools-preview" id="designToolsPreview">
                                <h4>AraÃ§ Ãnizlemesi</h4>
                                <div class="design-tools-preview-content">
                                    <div class="design-tools-preview-placeholder">
                                        <div class="design-tools-preview-icon">ð ï¸</div>
                                        <p>Bir araÃ§ seÃ§in ve nasÄ±l Ã§alÄ±ÅtÄ±ÄÄ±nÄ± gÃ¶rÃ¼n</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="design-tools-actions">
                            <button class="design-tools-btn secondary" onclick="this.closest('.design-tools-modal').remove()">Kapat</button>
                            <button class="design-tools-btn primary" onclick="variantManager.openDesignWorkspace('${variant.id}')">
                                ð TasarÄ±m AlanÄ±nÄ± AÃ§
                            </button>
                        </div>
                    </div>
                `;

                document.body.appendChild(modal);

                // Add keyboard support
                modal.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape') {
                        modal.remove();
                    }
                });
            }

            activateElementPicker(variantId) {
                this.updateDesignToolsPreview('element-picker');
                this.showNotification('ð¯ Element Picker aktif! Elementleri seÃ§mek iÃ§in tÄ±klayÄ±n.', 'info');
            }

            activateBoundaryTool(variantId) {
                this.updateDesignToolsPreview('boundary-tool');
                this.showNotification('ð Boundary Tool aktif! SÄ±nÄ±rlarÄ± Ã§izmek iÃ§in sÃ¼rÃ¼kleyin.', 'info');
            }

            activateAddTool(variantId) {
                this.updateDesignToolsPreview('add-tool');
                this.showNotification('â Add Tool aktif! Yeni elementler eklemek iÃ§in tÄ±klayÄ±n.', 'info');
            }

            updateDesignToolsPreview(toolType) {
                const preview = document.querySelector('#designToolsPreview .design-tools-preview-content');
                if (!preview) return;

                const toolPreviews = {
                    'element-picker': {
                        icon: 'ð¯',
                        title: 'Element Picker',
                        description: 'Sayfa Ã¼zerindeki herhangi bir elemente tÄ±klayarak seÃ§in',
                        steps: [
                            'Sayfada bir elemente tÄ±klayÄ±n',
                            'Element vurgulanacak ve seÃ§ilecek',
                            'SaÄ panelde Ã¶zelliklerini dÃ¼zenleyin',
                            'DeÄiÅiklikleri kaydedin'
                        ]
                    },
                    'boundary-tool': {
                        icon: 'ð',
                        title: 'Boundary Tool',
                        description: 'TasarÄ±m alanÄ±nÄ±n sÄ±nÄ±rlarÄ±nÄ± belirleyin',
                        steps: [
                            'BaÅlangÄ±Ã§ noktasÄ±na tÄ±klayÄ±n',
                            'SÃ¼rÃ¼kleyerek sÄ±nÄ±r Ã§izin',
                            'BitiÅ noktasÄ±nda bÄ±rakÄ±n',
                            'SÄ±nÄ±r alanÄ±nÄ± ayarlayÄ±n'
                        ]
                    },
                    'add-tool': {
                        icon: 'â',
                        title: 'Add Tool',
                        description: 'Yeni elementler ekleyin ve konumlandÄ±rÄ±n',
                        steps: [
                            'Element tipini seÃ§in',
                            'Eklemek istediÄiniz yere tÄ±klayÄ±n',
                            'Element otomatik eklenir',
                            'Ãzelliklerini dÃ¼zenleyin'
                        ]
                    }
                };

                const tool = toolPreviews[toolType];
                if (!tool) return;

                preview.innerHTML = `
                    <div class="design-tools-preview-active">
                        <div class="design-tools-preview-header">
                            <div class="design-tools-preview-icon">${tool.icon}</div>
                            <div class="design-tools-preview-title">${tool.title}</div>
                        </div>
                        <div class="design-tools-preview-description">${tool.description}</div>
                        <div class="design-tools-preview-steps">
                            <h5>KullanÄ±m AdÄ±mlarÄ±:</h5>
                            <ol>
                                ${tool.steps.map(step => `<li>${step}</li>`).join('')}
                            </ol>
                        </div>
                        <div class="design-tools-preview-demo">
                            <div class="design-tools-demo-area">
                                <div class="design-tools-demo-element ${toolType}">
                                    Demo AlanÄ±
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            }

            openDesignWorkspace(variantId) {
                const component = componentManager.findComponentByVariant(variantId);
                if (!component) return;
                
                const variant = component.variants.find(v => v.id === variantId);
                if (!variant) return;

                // Close the modal
                const modal = document.querySelector('.design-tools-modal');
                if (modal) modal.remove();

                // Create design workspace
                this.createDesignWorkspace(component, variant);
            }

            createDesignWorkspace(component, variant) {
                const workspace = document.createElement('div');
                workspace.className = 'design-workspace';
                workspace.innerHTML = `
                    <div class="design-workspace-header">
                        <div class="design-workspace-title">
                            <h3>ð¨ TasarÄ±m AlanÄ±</h3>
                            <div class="design-workspace-info">
                                <span>${component.name}</span>
                                <span class="design-workspace-variant">${variant.name}</span>
                            </div>
                        </div>
                        <div class="design-workspace-controls">
                            <button class="design-workspace-btn" onclick="variantManager.saveDesignChanges('${variant.id}')">
                                ð¾ Kaydet
                            </button>
                            <button class="design-workspace-btn" onclick="variantManager.closeDesignWorkspace()">
                                â Kapat
                            </button>
                        </div>
                    </div>
                    
                    <div class="design-workspace-content">
                        <div class="design-workspace-sidebar">
                            <div class="design-workspace-tools">
                                <h4>AraÃ§lar</h4>
                                <div class="design-workspace-tool-list">
                                    <button class="design-workspace-tool active" data-tool="element-picker">
                                        ð¯ Element Picker
                                    </button>
                                    <button class="design-workspace-tool" data-tool="boundary-tool">
                                        ð Boundary Tool
                                    </button>
                                    <button class="design-workspace-tool" data-tool="add-tool">
                                        â Add Tool
                                    </button>
                                </div>
                            </div>
                            
                            <div class="design-workspace-properties">
                                <h4>Ãzellikler</h4>
                                <div class="design-workspace-properties-content" id="designWorkspaceProperties">
                                    <div class="design-workspace-no-selection">
                                        <p>Bir element seÃ§in</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="design-workspace-canvas">
                            <div class="design-workspace-canvas-header">
                                <div class="design-workspace-canvas-title">TasarÄ±m Tuvali</div>
                                <div class="design-workspace-canvas-controls">
                                    <button class="design-workspace-canvas-btn" onclick="variantManager.resetCanvas()">
                                        ð SÄ±fÄ±rla
                                    </button>
                                    <button class="design-workspace-canvas-btn" onclick="variantManager.previewDesign()">
                                        ðï¸ Ãnizle
                                    </button>
                                </div>
                            </div>
                            <div class="design-workspace-canvas-content" id="designWorkspaceCanvas">
                                ${this.generateCanvasContent(variant)}
                            </div>
                        </div>
                    </div>
                `;

                document.body.appendChild(workspace);
                this.initializeDesignWorkspace(variant);
            }

            generateCanvasContent(variant) {
                // Generate realistic canvas content based on variant type
                const canvasTemplates = {
                    modern: `
                        <div class="canvas-element header" data-element="header">
                            <h1>Modern Header</h1>
                            <nav>Navigation</nav>
                        </div>
                        <div class="canvas-element content" data-element="content">
                            <p>Modern content area with clean design</p>
                        </div>
                    `,
                    minimal: `
                        <div class="canvas-element simple-header" data-element="header">
                            <h2>Simple Title</h2>
                        </div>
                        <div class="canvas-element simple-content" data-element="content">
                            <p>Minimal content with focus on typography</p>
                        </div>
                    `,
                    detailed: `
                        <div class="canvas-element rich-header" data-element="header">
                            <h1>Detailed Header</h1>
                            <div class="header-details">Subtitle and details</div>
                        </div>
                        <div class="canvas-element rich-content" data-element="content">
                            <p>Rich content with multiple sections and details</p>
                            <div class="content-sidebar">Sidebar content</div>
                        </div>
                    `,
                    cool: `
                        <div class="canvas-element cool-header" data-element="header">
                            <h1>ð¥ Cool Header</h1>
                            <div class="cool-effects">Special effects</div>
                        </div>
                        <div class="canvas-element cool-content" data-element="content">
                            <p>Cool content with animations and effects</p>
                        </div>
                    `
                };

                return canvasTemplates[variant.type] || canvasTemplates.modern;
            }

            initializeDesignWorkspace(variant) {
                // Initialize tool selection
                const tools = document.querySelectorAll('.design-workspace-tool');
                tools.forEach(tool => {
                    tool.addEventListener('click', (e) => {
                        tools.forEach(t => t.classList.remove('active'));
                        tool.classList.add('active');
                        this.activateWorkspaceTool(tool.dataset.tool, variant.id);
                    });
                });

                // Initialize canvas interactions
                const canvasElements = document.querySelectorAll('.canvas-element');
                canvasElements.forEach(element => {
                    element.addEventListener('click', (e) => {
                        this.selectCanvasElement(element);
                    });
                });

                // Set initial tool
                this.activateWorkspaceTool('element-picker', variant.id);
            }

            activateWorkspaceTool(toolType, variantId) {
                const canvas = document.querySelector('#designWorkspaceCanvas');
                if (!canvas) return;

                // Remove previous tool classes
                canvas.classList.remove('tool-element-picker', 'tool-boundary-tool', 'tool-add-tool');
                
                // Add current tool class
                canvas.classList.add(`tool-${toolType}`);

                // Update cursor and behavior based on tool
                switch (toolType) {
                    case 'element-picker':
                        canvas.style.cursor = 'pointer';
                        break;
                    case 'boundary-tool':
                        canvas.style.cursor = 'crosshair';
                        break;
                    case 'add-tool':
                        canvas.style.cursor = 'copy';
                        break;
                }
            }

            selectCanvasElement(element) {
                // Remove previous selections
                document.querySelectorAll('.canvas-element.selected').forEach(el => {
                    el.classList.remove('selected');
                });

                // Select current element
                element.classList.add('selected');

                // Update properties panel
                this.updatePropertiesPanel(element);
            }

            updatePropertiesPanel(element) {
                const propertiesPanel = document.querySelector('#designWorkspaceProperties');
                if (!propertiesPanel) return;

                const elementType = element.dataset.element || 'unknown';
                const elementText = element.textContent.trim();

                propertiesPanel.innerHTML = `
                    <div class="design-workspace-element-properties">
                        <h5>SeÃ§ili Element</h5>
                        <div class="property-group">
                            <label>Tip:</label>
                            <span>${elementType}</span>
                        </div>
                        <div class="property-group">
                            <label>Ä°Ã§erik:</label>
                            <textarea class="property-input" onchange="variantManager.updateElementProperty('${elementType}', 'content', this.value)">${elementText}</textarea>
                        </div>
                        <div class="property-group">
                            <label>Stil:</label>
                            <select class="property-input" onchange="variantManager.updateElementProperty('${elementType}', 'style', this.value)">
                                <option value="default">VarsayÄ±lan</option>
                                <option value="bold">KalÄ±n</option>
                                <option value="italic">Ä°talik</option>
                                <option value="underline">AltÄ± Ãizili</option>
                            </select>
                        </div>
                        <div class="property-group">
                            <label>Renk:</label>
                            <input type="color" class="property-input" value="#000000" onchange="variantManager.updateElementProperty('${elementType}', 'color', this.value)">
                        </div>
                    </div>
                `;
            }

            updateElementProperty(elementType, property, value) {
                const selectedElement = document.querySelector('.canvas-element.selected');
                if (!selectedElement) return;

                switch (property) {
                    case 'content':
                        selectedElement.textContent = value;
                        break;
                    case 'style':
                        selectedElement.className = selectedElement.className.replace(/style-\w+/g, '');
                        selectedElement.classList.add(`style-${value}`);
                        break;
                    case 'color':
                        selectedElement.style.color = value;
                        break;
                }

                this.markDesignAsModified();
            }

            markDesignAsModified() {
                const saveBtn = document.querySelector('.design-workspace-controls button');
                if (saveBtn) {
                    saveBtn.textContent = 'ð¾ Kaydet*';
                    saveBtn.classList.add('modified');
                }
            }

            saveDesignChanges(variantId) {
                const canvas = document.querySelector('#designWorkspaceCanvas');
                if (!canvas) return;

                // Save canvas state
                const canvasState = {
                    html: canvas.innerHTML,
                    timestamp: new Date().toISOString(),
                    variantId: variantId
                };

                // Save to localStorage
                let designChanges = JSON.parse(localStorage.getItem('design-changes') || '[]');
                designChanges.push(canvasState);
                localStorage.setItem('design-changes', JSON.stringify(designChanges));

                // Update save button
                const saveBtn = document.querySelector('.design-workspace-controls button');
                if (saveBtn) {
                    saveBtn.textContent = 'ð¾ Kaydedildi';
                    saveBtn.classList.remove('modified');
                    saveBtn.classList.add('saved');
                    
                    setTimeout(() => {
                        saveBtn.textContent = 'ð¾ Kaydet';
                        saveBtn.classList.remove('saved');
                    }, 2000);
                }

                this.showNotification('â TasarÄ±m deÄiÅiklikleri kaydedildi!', 'success');
            }

            resetCanvas() {
                const canvas = document.querySelector('#designWorkspaceCanvas');
                if (!canvas) return;

                if (confirm('TÃ¼m deÄiÅiklikleri sÄ±fÄ±rlamak istediÄinizden emin misiniz?')) {
                    // Reset canvas to original state
                    const variant = { type: 'modern' }; // Get from context
                    canvas.innerHTML = this.generateCanvasContent(variant);
                    
                    // Re-initialize interactions
                    this.initializeDesignWorkspace(variant);
                    
                    this.showNotification('ð TasarÄ±m tuvali sÄ±fÄ±rlandÄ±', 'info');
                }
            }

            previewDesign() {
                const canvas = document.querySelector('#designWorkspaceCanvas');
                if (!canvas) return;

                // Create preview modal
                const previewModal = document.createElement('div');
                previewModal.className = 'design-preview-modal';
                previewModal.innerHTML = `
                    <div class="design-preview-container">
                        <div class="design-preview-header">
                            <h3>ðï¸ TasarÄ±m Ãnizlemesi</h3>
                            <button onclick="this.closest('.design-preview-modal').remove()">Ã</button>
                        </div>
                        <div class="design-preview-content">
                            ${canvas.innerHTML}
                        </div>
                    </div>
                `;

                document.body.appendChild(previewModal);
            }

            closeDesignWorkspace() {
                const workspace = document.querySelector('.design-workspace');
                if (!workspace) return;

                const saveBtn = document.querySelector('.design-workspace-controls button.modified');
                if (saveBtn) {
                    if (confirm('KaydedilmemiÅ deÄiÅiklikler var. ÃÄ±kmak istediÄinizden emin misiniz?')) {
                        workspace.remove();
                    }
                } else {
                    workspace.remove();
                }
            }

            compareVariants(variantId) {
                this.showCompareModal(variantId);
            }

            showCompareModal(variantId) {
                const component = componentManager.findComponentByVariant(variantId);
                if (!component) return;
                
                const selectedVariant = component.variants.find(v => v.id === variantId);
                if (!selectedVariant) return;
                
                // Get other variants for comparison
                const otherVariants = component.variants.filter(v => v.id !== variantId);
                
                const modal = document.createElement('div');
                modal.className = 'compare-modal';
                modal.innerHTML = `
                    <div class="compare-header">
                        <div class="preview-title">
                            <span>âï¸ Varyant KarÅÄ±laÅtÄ±rmasÄ±: ${component.name}</span>
                        </div>
                        <div class="preview-actions">
                            <select id="compareVariantSelect" class="preview-btn" style="background: rgba(255, 255, 255, 0.1); color: white; border: 1px solid rgba(255, 255, 255, 0.2);">
                                ${otherVariants.map(v => `<option value="${v.id}">${v.name}</option>`).join('')}
                            </select>
                            <button class="preview-btn close" onclick="variantManager.closeCompare()">
                                â Kapat
                            </button>
                        </div>
                    </div>
                    <div class="compare-content">
                        <div class="compare-panel">
                            <div class="compare-panel-header">
                                <span style="background: ${this.getVariantColor(selectedVariant.type)}; color: white; padding: 4px 12px; border-radius: 20px; font-size: 0.875rem;">
                                    ${selectedVariant.name}
                                </span>
                            </div>
                            <div class="compare-panel-content">
                                ${this.generatePreviewContent(component, selectedVariant)}
                            </div>
                        </div>
                        <div class="compare-panel">
                            <div class="compare-panel-header">
                                <span id="compareVariantBadge" style="background: #6c757d; color: white; padding: 4px 12px; border-radius: 20px; font-size: 0.875rem;">
                                    ${otherVariants[0]?.name || 'Varyant SeÃ§in'}
                                </span>
                            </div>
                            <div class="compare-panel-content" id="compareVariantContent">
                                ${otherVariants[0] ? this.generatePreviewContent(component, otherVariants[0]) : '<div class="preview-placeholder"><div class="preview-placeholder-text">KarÅÄ±laÅtÄ±rÄ±lacak varyant seÃ§in</div></div>'}
                            </div>
                        </div>
                    </div>
                `;
                
                document.body.appendChild(modal);
                this.currentCompareModal = modal;
                
                // Handle variant selection change
                const select = modal.querySelector('#compareVariantSelect');
                select.addEventListener('change', (e) => {
                    const compareVariant = component.variants.find(v => v.id === e.target.value);
                    if (compareVariant) {
                        const badge = modal.querySelector('#compareVariantBadge');
                        const content = modal.querySelector('#compareVariantContent');
                        
                        badge.style.background = this.getVariantColor(compareVariant.type);
                        badge.textContent = compareVariant.name;
                        content.innerHTML = this.generatePreviewContent(component, compareVariant);
                    }
                });
                
                // Close on background click
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) {
                        this.closeCompare();
                    }
                });
                
                // ESC key to close
                document.addEventListener('keydown', this.handleCompareKeydown);
            }

            closeCompare() {
                if (this.currentCompareModal) {
                    document.body.removeChild(this.currentCompareModal);
                    this.currentCompareModal = null;
                    document.removeEventListener('keydown', this.handleCompareKeydown);
                }
            }

            handleCompareKeydown = (e) => {
                if (e.key === 'Escape') {
                    this.closeCompare();
                }
            }

            deleteVariant(variantId) {
                if (!confirm('Bu varyantÄ± silmek istediÄinizden emin misiniz?')) return;
                
                const component = componentManager.findComponentByVariant(variantId);
                if (!component) return;
                
                component.variants = component.variants.filter(v => v.id !== variantId);
                componentManager.saveComponent(component);
                componentManager.renderComponents();
                
                this.showNotification('ðï¸ Varyant silindi', 'success');
            }

            showNotification(message, type = 'info') {
                const notification = document.createElement('div');
                notification.className = `notification ${type}`;
                notification.textContent = message;
                notification.style.cssText = `
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    background: ${type === 'success' ? '#28a745' : type === 'error' ? '#dc3545' : '#007bff'};
                    color: white;
                    padding: 12px 20px;
                    border-radius: 8px;
                    z-index: 10001;
                    animation: slideIn 0.3s ease;
                `;
                
                document.body.appendChild(notification);
                setTimeout(() => notification.remove(), 3000);
            }
        }

        // Legacy manager initialization (moved to enhanced section below)
        
        // Legacy functions for backward compatibility
        function updateStats() {
            componentManager?.updateStats();
        }
        
        function startDesign(componentName) {
            componentManager?.startDesign(componentName);
        }

        // ===== STATE PERSISTENCE SYSTEM =====
        class StatePersistenceManager {
            constructor() {
                this.storageKey = 'hub-state-persistence';
                this.state = this.loadState();
                this.setupEventListeners();
                this.restoreState();
                console.log('ð¾ State Persistence Manager initialized');
            }

            // Load state from localStorage
            loadState() {
                try {
                    const saved = localStorage.getItem(this.storageKey);
                    return saved ? JSON.parse(saved) : this.getDefaultState();
                } catch (error) {
                    console.warn('State loading failed:', error);
                    return this.getDefaultState();
                }
            }

            // Default state structure
            getDefaultState() {
                return {
                    scroll: {
                        position: 0,
                        timestamp: Date.now()
                    },
                    search: {
                        query: '',
                        history: [],
                        timestamp: Date.now()
                    },
                    view: {
                        history: [],
                        currentIndex: -1,
                        maxHistory: 50
                    },
                    categories: {
                        expanded: {},
                        lastViewed: null
                    },
                    filters: {
                        status: 'all',
                        category: 'all'
                    },
                    session: {
                        startTime: Date.now(),
                        lastActivity: Date.now(),
                        visitCount: 1
                    }
                };
            }

            // Save state to localStorage
            saveState() {
                try {
                    this.state.session.lastActivity = Date.now();
                    localStorage.setItem(this.storageKey, JSON.stringify(this.state));
                } catch (error) {
                    console.warn('State saving failed:', error);
                }
            }

            // Setup event listeners for state tracking
            setupEventListeners() {
                // Scroll position tracking
                let scrollTimeout;
                window.addEventListener('scroll', () => {
                    clearTimeout(scrollTimeout);
                    scrollTimeout = setTimeout(() => {
                        this.updateScrollPosition();
                    }, 150);
                });

                // Search tracking
                const searchBox = document.querySelector('.search-box');
                if (searchBox) {
                    searchBox.addEventListener('input', (e) => {
                        this.updateSearchQuery(e.target.value);
                    });

                    searchBox.addEventListener('keydown', (e) => {
                        if (e.key === 'Enter') {
                            this.addToSearchHistory(e.target.value);
                        }
                    });
                }

                // Category expansion tracking
                document.addEventListener('click', (e) => {
                    if (e.target.closest('.category-header')) {
                        const category = e.target.closest('.category');
                        if (category) {
                            const categoryId = category.dataset.category;
                            this.toggleCategoryExpansion(categoryId);
                        }
                    }
                });

                // View history tracking
                document.addEventListener('click', (e) => {
                    if (e.target.closest('.variant-btn, .component-card, .preview-btn')) {
                        const target = e.target.closest('.variant-btn, .component-card, .preview-btn');
                        this.addToViewHistory(target);
                    }
                });

                // Auto-save on page unload
                window.addEventListener('beforeunload', () => {
                    this.saveState();
                });

                // Periodic auto-save
                setInterval(() => {
                    this.saveState();
                }, 30000); // Save every 30 seconds
            }

            // Update scroll position
            updateScrollPosition() {
                this.state.scroll.position = window.scrollY;
                this.state.scroll.timestamp = Date.now();
            }

            // Update search query
            updateSearchQuery(query) {
                this.state.search.query = query;
                this.state.search.timestamp = Date.now();
            }

            // Add to search history
            addToSearchHistory(query) {
                if (!query.trim()) return;

                const history = this.state.search.history;
                const existingIndex = history.indexOf(query);
                
                if (existingIndex > -1) {
                    history.splice(existingIndex, 1);
                }
                
                history.unshift(query);
                
                if (history.length > 20) {
                    history.splice(20);
                }

                this.saveState();
            }

            // Toggle category expansion
            toggleCategoryExpansion(categoryId) {
                this.state.categories.expanded[categoryId] = !this.state.categories.expanded[categoryId];
                this.state.categories.lastViewed = categoryId;
                this.saveState();
            }

            // Add to view history
            addToViewHistory(element) {
                const viewData = {
                    type: element.classList.contains('variant-btn') ? 'variant' : 
                          element.classList.contains('component-card') ? 'component' : 'preview',
                    id: element.dataset.variantId || element.dataset.componentId || 'unknown',
                    title: element.textContent.trim().substring(0, 50),
                    timestamp: Date.now(),
                    url: window.location.href
                };

                const history = this.state.view.history;
                
                // Remove duplicate if exists
                const existingIndex = history.findIndex(item => 
                    item.type === viewData.type && item.id === viewData.id
                );
                
                if (existingIndex > -1) {
                    history.splice(existingIndex, 1);
                }

                history.unshift(viewData);

                if (history.length > this.state.view.maxHistory) {
                    history.splice(this.state.view.maxHistory);
                }

                this.state.view.currentIndex = 0;
                this.saveState();
            }

            // Restore state on page load
            restoreState() {
                // Restore scroll position
                if (this.state.scroll.position > 0) {
                    setTimeout(() => {
                        window.scrollTo(0, this.state.scroll.position);
                    }, 100);
                }

                // Restore search query
                const searchBox = document.querySelector('.search-box');
                if (searchBox && this.state.search.query) {
                    searchBox.value = this.state.search.query;
                    // Trigger search if there's a query
                    if (componentManager && this.state.search.query.trim()) {
                        componentManager.searchComponents(this.state.search.query);
                    }
                }

                // Restore category expansions
                setTimeout(() => {
                    Object.entries(this.state.categories.expanded).forEach(([categoryId, isExpanded]) => {
                        const category = document.querySelector(`[data-category="${categoryId}"]`);
                        if (category) {
                            const content = category.querySelector('.category-content');
                            if (content) {
                                content.style.display = isExpanded ? 'block' : 'none';
                            }
                        }
                    });
                }, 200);

                // Update session info
                this.state.session.visitCount++;
                this.saveState();
            }

            // Get search suggestions based on history
            getSearchSuggestions(query) {
                if (!query.trim()) return this.state.search.history.slice(0, 5);
                
                return this.state.search.history
                    .filter(item => item.toLowerCase().includes(query.toLowerCase()))
                    .slice(0, 5);
            }

            // Navigate view history
            navigateHistory(direction) {
                const history = this.state.view.history;
                if (history.length === 0) return null;

                if (direction === 'back' && this.state.view.currentIndex < history.length - 1) {
                    this.state.view.currentIndex++;
                } else if (direction === 'forward' && this.state.view.currentIndex > 0) {
                    this.state.view.currentIndex--;
                } else {
                    return null;
                }

                const currentView = history[this.state.view.currentIndex];
                this.saveState();
                return currentView;
            }

            // Get current view info
            getCurrentView() {
                const history = this.state.view.history;
                if (history.length === 0 || this.state.view.currentIndex < 0) return null;
                return history[this.state.view.currentIndex];
            }

            // Clear specific state data
            clearState(type) {
                switch (type) {
                    case 'scroll':
                        this.state.scroll = { position: 0, timestamp: Date.now() };
                        break;
                    case 'search':
                        this.state.search = { query: '', history: [], timestamp: Date.now() };
                        break;
                    case 'view':
                        this.state.view = { history: [], currentIndex: -1, maxHistory: 50 };
                        break;
                    case 'all':
                        this.state = this.getDefaultState();
                        break;
                }
                this.saveState();
            }

            // Get state statistics
            getStateStats() {
                return {
                    scrollPosition: this.state.scroll.position,
                    searchHistoryCount: this.state.search.history.length,
                    viewHistoryCount: this.state.view.history.length,
                    sessionDuration: Date.now() - this.state.session.startTime,
                    visitCount: this.state.session.visitCount,
                    lastActivity: new Date(this.state.session.lastActivity).toLocaleString()
                };
            }
        }

        // State Persistence Manager initialization moved to enhanced section below

        // Enhanced search functionality with history
        function enhancedSearch() {
            const searchBox = document.querySelector('.search-box');
            if (!searchBox || !statePersistenceManager) return;

            const query = searchBox.value.trim();
            const suggestions = statePersistenceManager.getSearchSuggestions(query);
            
            // Show search suggestions (could be implemented as dropdown)
            console.log('Search suggestions:', suggestions);
            
            if (componentManager) {
                componentManager.searchComponents(query);
            }
        }

        // Navigation history functions
        function goBack() {
            if (!statePersistenceManager) return;
            
            const previousView = statePersistenceManager.navigateHistory('back');
            if (previousView) {
                console.log('Navigating back to:', previousView);
                // Could implement actual navigation here
                showNotification(`â¬ï¸ Geri: ${previousView.title}`, 'info');
            } else {
                showNotification('â¬ï¸ Geri gidilecek sayfa yok', 'warning');
            }
        }

        function goForward() {
            if (!statePersistenceManager) return;
            
            const nextView = statePersistenceManager.navigateHistory('forward');
            if (nextView) {
                console.log('Navigating forward to:', nextView);
                // Could implement actual navigation here
                showNotification(`â¡ï¸ Ä°leri: ${nextView.title}`, 'info');
            } else {
                showNotification('â¡ï¸ Ä°leri gidilecek sayfa yok', 'warning');
            }
        }

        // Clear state function
        function clearPersistentState(type = 'all') {
            if (!statePersistenceManager) return;
            
            statePersistenceManager.clearState(type);
            showNotification(`ðï¸ ${type === 'all' ? 'TÃ¼m' : type} state temizlendi`, 'success');
            
            if (type === 'all' || type === 'search') {
                const searchBox = document.querySelector('.search-box');
                if (searchBox) searchBox.value = '';
            }
        }

        // Show state statistics
        function showStateStats() {
            if (!statePersistenceManager) return;
            
            const stats = statePersistenceManager.getStateStats();
            console.log('State Statistics:', stats);
            
            const message = `
ð State Ä°statistikleri:
â¢ Scroll: ${stats.scrollPosition}px
â¢ Arama geÃ§miÅi: ${stats.searchHistoryCount} sorgu
â¢ GÃ¶rÃ¼ntÃ¼leme geÃ§miÅi: ${stats.viewHistoryCount} Ã¶Äe
â¢ Oturum sÃ¼resi: ${Math.round(stats.sessionDuration / 1000 / 60)} dakika
â¢ Ziyaret sayÄ±sÄ±: ${stats.visitCount}
â¢ Son aktivite: ${stats.lastActivity}
            `;
            
            alert(message);
        }

        // Keyboard shortcuts for navigation
        document.addEventListener('keydown', function(e) {
            // Alt + Left Arrow = Back
            if (e.altKey && e.key === 'ArrowLeft') {
                e.preventDefault();
                goBack();
            }
            
            // Alt + Right Arrow = Forward
            if (e.altKey && e.key === 'ArrowRight') {
                e.preventDefault();
                goForward();
            }
            
            // Ctrl + K = Focus search
            if (e.ctrlKey && e.key === 'k') {
                e.preventDefault();
                const searchBox = document.querySelector('.search-box');
                if (searchBox) {
                    searchBox.focus();
                    searchBox.select();
                }
            }
            
            // Ctrl + Shift + Delete = Clear all state
            if (e.ctrlKey && e.shiftKey && e.key === 'Delete') {
                e.preventDefault();
                if (confirm('TÃ¼m kaydedilmiÅ state\'i temizlemek istediÄinizden emin misiniz?')) {
                    clearPersistentState('all');
                }
            }
         });

         // ===== CONTEXT TESTING SYSTEM =====
         class ContextTestingManager {
             constructor() {
                 this.storageKey = 'hub-context-testing';
                 this.testSessions = this.loadTestSessions();
                 this.currentTest = null;
                 this.testResults = [];
                 this.setupEventListeners();
                 console.log('ð§ª Context Testing Manager initialized');
             }

             // Load test sessions from localStorage
             loadTestSessions() {
                 try {
                     const saved = localStorage.getItem(this.storageKey);
                     return saved ? JSON.parse(saved) : [];
                 } catch (error) {
                     console.warn('Test sessions loading failed:', error);
                     return [];
                 }
             }

             // Save test sessions to localStorage
             saveTestSessions() {
                 try {
                     localStorage.setItem(this.storageKey, JSON.stringify(this.testSessions));
                 } catch (error) {
                     console.warn('Test sessions saving failed:', error);
                 }
             }

             // Setup event listeners
             setupEventListeners() {
                 // Listen for test button clicks
                 document.addEventListener('click', (e) => {
                     if (e.target.closest('.test-variant-btn')) {
                         const variantId = e.target.closest('.test-variant-btn').dataset.variantId;
                         this.startContextTest(variantId);
                     }
                 });
             }

             // Start context testing for a variant
             startContextTest(variantId) {
                 const variant = this.getVariantById(variantId);
                 if (!variant) {
                     showNotification('â Varyant bulunamadÄ±', 'error');
                     return;
                 }

                 this.showContextTestModal(variant);
             }

             // Get variant by ID
             getVariantById(variantId) {
                 if (!variantManager) return null;
                 
                 for (const componentId in variantManager.variants) {
                     const variants = variantManager.variants[componentId];
                     const variant = variants.find(v => v.id === variantId);
                     if (variant) {
                         return { ...variant, componentId };
                     }
                 }
                 return null;
             }

             // Show context test modal
             showContextTestModal(variant) {
                 const modal = document.createElement('div');
                 modal.className = 'context-test-modal';
                 modal.innerHTML = `
                     <div class="context-test-container">
                         <div class="context-test-header">
                             <h3>ð§ª Context Testing</h3>
                             <button class="context-test-close" onclick="this.closest('.context-test-modal').remove()">Ã</button>
                         </div>
                         <div class="context-test-content">
                             <div class="context-test-info">
                                 <div class="context-test-variant">
                                     <h4>${variant.name}</h4>
                                     <span class="context-test-badge context-test-${variant.type}">${variant.type}</span>
                                 </div>
                                 <p class="context-test-description">${variant.description}</p>
                             </div>
                             
                             <div class="context-test-options">
                                 <h5>Test OrtamÄ± SeÃ§in:</h5>
                                 <div class="context-test-environments">
                                     <button class="context-test-env-btn" data-env="iframe" onclick="contextTestingManager.startIframeTest('${variant.id}')">
                                         <div class="context-test-env-icon">ð¼ï¸</div>
                                         <div class="context-test-env-info">
                                             <div class="context-test-env-title">Iframe Test</div>
                                             <div class="context-test-env-desc">GÃ¼venli iframe ortamÄ±nda test</div>
                                         </div>
                                     </button>
                                     
                                     <button class="context-test-env-btn" data-env="popup" onclick="contextTestingManager.startPopupTest('${variant.id}')">
                                         <div class="context-test-env-icon">ðª</div>
                                         <div class="context-test-env-info">
                                             <div class="context-test-env-title">Popup Test</div>
                                             <div class="context-test-env-desc">Yeni pencerede test</div>
                                         </div>
                                     </button>
                                     
                                     <button class="context-test-env-btn" data-env="overlay" onclick="contextTestingManager.startOverlayTest('${variant.id}')">
                                         <div class="context-test-env-icon">ð±</div>
                                         <div class="context-test-env-info">
                                             <div class="context-test-env-title">Overlay Test</div>
                                             <div class="context-test-env-desc">Sayfa Ã¼zerinde overlay</div>
                                         </div>
                                     </button>
                                     
                                     <button class="context-test-env-btn" data-env="responsive" onclick="contextTestingManager.startResponsiveTest('${variant.id}')">
                                         <div class="context-test-env-icon">ð</div>
                                         <div class="context-test-env-info">
                                             <div class="context-test-env-title">Responsive Test</div>
                                             <div class="context-test-env-desc">FarklÄ± ekran boyutlarÄ±</div>
                                         </div>
                                     </button>
                                 </div>
                             </div>
                             
                             <div class="context-test-history">
                                 <h5>Son Test SonuÃ§larÄ±:</h5>
                                 <div class="context-test-results" id="contextTestResults">
                                     ${this.renderTestHistory(variant.id)}
                                 </div>
                             </div>
                         </div>
                     </div>
                 `;

                 document.body.appendChild(modal);
                 modal.style.animation = 'contextTestFadeIn 0.3s ease-out';
             }

             // Start iframe test
             startIframeTest(variantId) {
                 const variant = this.getVariantById(variantId);
                 if (!variant) return;

                 this.currentTest = {
                     id: Date.now().toString(),
                     variantId,
                     type: 'iframe',
                     startTime: Date.now(),
                     status: 'running'
                 };

                 const testWindow = document.createElement('div');
                 testWindow.className = 'context-test-window';
                 testWindow.innerHTML = `
                     <div class="context-test-window-header">
                         <div class="context-test-window-title">
                             ð§ª Iframe Test: ${variant.name}
                         </div>
                         <div class="context-test-window-controls">
                             <button onclick="contextTestingManager.refreshTest()" title="Yenile">ð</button>
                             <button onclick="contextTestingManager.takeScreenshot()" title="Ekran GÃ¶rÃ¼ntÃ¼sÃ¼">ð¸</button>
                             <button onclick="contextTestingManager.stopTest()" title="Testi Durdur">â¹ï¸</button>
                             <button onclick="this.closest('.context-test-window').remove()" title="Kapat">Ã</button>
                         </div>
                     </div>
                     <div class="context-test-iframe-container">
                         <iframe src="about:blank" class="context-test-iframe" id="contextTestIframe"></iframe>
                     </div>
                     <div class="context-test-window-footer">
                         <div class="context-test-status">
                             <span class="context-test-status-indicator running">â</span>
                             Test Ã§alÄ±ÅÄ±yor...
                         </div>
                         <div class="context-test-actions">
                             <button onclick="contextTestingManager.markTestPassed()" class="context-test-btn success">â BaÅarÄ±lÄ±</button>
                             <button onclick="contextTestingManager.markTestFailed()" class="context-test-btn error">â BaÅarÄ±sÄ±z</button>
                         </div>
                     </div>
                 `;

                 document.body.appendChild(testWindow);
                 
                 // Load variant content into iframe
                 setTimeout(() => {
                     this.loadVariantIntoIframe(variant);
                 }, 100);

                 // Close modal
                 const modal = document.querySelector('.context-test-modal');
                 if (modal) modal.remove();
             }

             // Start popup test
             startPopupTest(variantId) {
                 const variant = this.getVariantById(variantId);
                 if (!variant) return;

                 this.currentTest = {
                     id: Date.now().toString(),
                     variantId,
                     type: 'popup',
                     startTime: Date.now(),
                     status: 'running'
                 };

                 const popupContent = this.generateVariantHTML(variant);
                 const popup = window.open('', '_blank', 'width=800,height=600,scrollbars=yes,resizable=yes');
                 
                 if (popup) {
                     popup.document.write(`
                         <!DOCTYPE html>
                         <html>
                         <head>
                             <title>Context Test: ${variant.name}</title>
                             <style>
                                 body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; margin: 20px; }
                                 .test-header { background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 20px; }
                                 .test-content { border: 1px solid #e9ecef; border-radius: 8px; padding: 20px; }
                             </style>
                         </head>
                         <body>
                             <div class="test-header">
                                 <h2>ð§ª Context Test: ${variant.name}</h2>
                                 <p>Type: ${variant.type} | Started: ${new Date().toLocaleTimeString()}</p>
                             </div>
                             <div class="test-content">
                                 ${popupContent}
                             </div>
                         </body>
                         </html>
                     `);
                     popup.document.close();
                 }

                 // Close modal
                 const modal = document.querySelector('.context-test-modal');
                 if (modal) modal.remove();

                 showNotification('ðª Popup test baÅlatÄ±ldÄ±', 'success');
             }

             // Start overlay test
             startOverlayTest(variantId) {
                 const variant = this.getVariantById(variantId);
                 if (!variant) return;

                 this.currentTest = {
                     id: Date.now().toString(),
                     variantId,
                     type: 'overlay',
                     startTime: Date.now(),
                     status: 'running'
                 };

                 const overlay = document.createElement('div');
                 overlay.className = 'context-test-overlay';
                 overlay.innerHTML = `
                     <div class="context-test-overlay-content">
                         <div class="context-test-overlay-header">
                             <h3>ð§ª Overlay Test: ${variant.name}</h3>
                             <button onclick="contextTestingManager.stopTest()" class="context-test-overlay-close">Ã</button>
                         </div>
                         <div class="context-test-overlay-body">
                             ${this.generateVariantHTML(variant)}
                         </div>
                         <div class="context-test-overlay-footer">
                             <button onclick="contextTestingManager.markTestPassed()" class="context-test-btn success">â BaÅarÄ±lÄ±</button>
                             <button onclick="contextTestingManager.markTestFailed()" class="context-test-btn error">â BaÅarÄ±sÄ±z</button>
                         </div>
                     </div>
                 `;

                 document.body.appendChild(overlay);

                 // Close modal
                 const modal = document.querySelector('.context-test-modal');
                 if (modal) modal.remove();
             }

             // Start responsive test
             startResponsiveTest(variantId) {
                 const variant = this.getVariantById(variantId);
                 if (!variant) return;

                 this.currentTest = {
                     id: Date.now().toString(),
                     variantId,
                     type: 'responsive',
                     startTime: Date.now(),
                     status: 'running'
                 };

                 const responsiveTest = document.createElement('div');
                 responsiveTest.className = 'context-test-responsive';
                 responsiveTest.innerHTML = `
                     <div class="context-test-responsive-header">
                         <h3>ð Responsive Test: ${variant.name}</h3>
                         <div class="context-test-responsive-controls">
                             <select onchange="contextTestingManager.changeViewport(this.value)" class="context-test-viewport-select">
                                 <option value="desktop">ð¥ï¸ Desktop (1200px)</option>
                                 <option value="tablet">ð± Tablet (768px)</option>
                                 <option value="mobile">ð± Mobile (375px)</option>
                                 <option value="custom">âï¸ Custom</option>
                             </select>
                             <button onclick="contextTestingManager.stopTest()" class="context-test-responsive-close">Ã</button>
                         </div>
                     </div>
                     <div class="context-test-responsive-viewport" id="responsiveViewport">
                         <div class="context-test-responsive-content" id="responsiveContent">
                             ${this.generateVariantHTML(variant)}
                         </div>
                     </div>
                     <div class="context-test-responsive-footer">
                         <div class="context-test-responsive-info">
                             <span id="viewportInfo">Desktop: 1200px</span>
                         </div>
                         <div class="context-test-responsive-actions">
                             <button onclick="contextTestingManager.markTestPassed()" class="context-test-btn success">â BaÅarÄ±lÄ±</button>
                             <button onclick="contextTestingManager.markTestFailed()" class="context-test-btn error">â BaÅarÄ±sÄ±z</button>
                         </div>
                     </div>
                 `;

                 document.body.appendChild(responsiveTest);

                 // Close modal
                 const modal = document.querySelector('.context-test-modal');
                 if (modal) modal.remove();
             }

             // Generate variant HTML content
             generateVariantHTML(variant) {
                 const templates = {
                     'primary': `
                         <div style="background: linear-gradient(135deg, #667eea, #764ba2); color: white; padding: 20px; border-radius: 12px;">
                             <h3 style="margin: 0 0 10px 0;">${variant.name}</h3>
                             <p style="margin: 0; opacity: 0.9;">${variant.description}</p>
                         </div>
                     `,
                     'secondary': `
                         <div style="background: #f8f9fa; border: 2px solid #e9ecef; padding: 20px; border-radius: 12px;">
                             <h3 style="margin: 0 0 10px 0; color: #495057;">${variant.name}</h3>
                             <p style="margin: 0; color: #6c757d;">${variant.description}</p>
                         </div>
                     `,
                     'success': `
                         <div style="background: linear-gradient(135deg, #48bb78, #38a169); color: white; padding: 20px; border-radius: 12px;">
                             <h3 style="margin: 0 0 10px 0;">â ${variant.name}</h3>
                             <p style="margin: 0; opacity: 0.9;">${variant.description}</p>
                         </div>
                     `,
                     'warning': `
                         <div style="background: linear-gradient(135deg, #ed8936, #dd6b20); color: white; padding: 20px; border-radius: 12px;">
                             <h3 style="margin: 0 0 10px 0;">â ï¸ ${variant.name}</h3>
                             <p style="margin: 0; opacity: 0.9;">${variant.description}</p>
                         </div>
                     `,
                     'error': `
                         <div style="background: linear-gradient(135deg, #f56565, #e53e3e); color: white; padding: 20px; border-radius: 12px;">
                             <h3 style="margin: 0 0 10px 0;">â ${variant.name}</h3>
                             <p style="margin: 0; opacity: 0.9;">${variant.description}</p>
                         </div>
                     `
                 };

                 return templates[variant.type] || templates['primary'];
             }

             // Load variant into iframe
             loadVariantIntoIframe(variant) {
                 const iframe = document.getElementById('contextTestIframe');
                 if (!iframe) return;

                 const content = `
                     <!DOCTYPE html>
                     <html>
                     <head>
                         <title>Context Test: ${variant.name}</title>
                         <style>
                             body { 
                                 font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; 
                                 margin: 0; 
                                 padding: 20px; 
                                 background: #f8f9fa;
                             }
                             .test-container { 
                                 max-width: 800px; 
                                 margin: 0 auto; 
                                 background: white; 
                                 border-radius: 12px; 
                                 padding: 20px; 
                                 box-shadow: 0 4px 12px rgba(0,0,0,0.1);
                             }
                         </style>
                     </head>
                     <body>
                         <div class="test-container">
                             ${this.generateVariantHTML(variant)}
                         </div>
                     </body>
                     </html>
                 `;

                 iframe.srcdoc = content;
             }

             // Change viewport for responsive testing
             changeViewport(size) {
                 const viewport = document.getElementById('responsiveViewport');
                 const info = document.getElementById('viewportInfo');
                 if (!viewport || !info) return;

                 const sizes = {
                     'desktop': { width: '1200px', label: 'Desktop: 1200px' },
                     'tablet': { width: '768px', label: 'Tablet: 768px' },
                     'mobile': { width: '375px', label: 'Mobile: 375px' },
                     'custom': { width: '100%', label: 'Custom: 100%' }
                 };

                 const selectedSize = sizes[size];
                 if (selectedSize) {
                     viewport.style.width = selectedSize.width;
                     info.textContent = selectedSize.label;
                 }
             }

             // Mark test as passed
             markTestPassed() {
                 if (!this.currentTest) return;

                 this.currentTest.status = 'passed';
                 this.currentTest.endTime = Date.now();
                 this.currentTest.duration = this.currentTest.endTime - this.currentTest.startTime;
                 this.currentTest.result = 'Test baÅarÄ±yla tamamlandÄ±';

                 this.testResults.push({ ...this.currentTest });
                 this.testSessions.push({ ...this.currentTest });
                 this.saveTestSessions();

                 showNotification('â Test baÅarÄ±lÄ± olarak iÅaretlendi', 'success');
                 this.stopTest();
             }

             // Mark test as failed
             markTestFailed() {
                 if (!this.currentTest) return;

                 const reason = prompt('Test neden baÅarÄ±sÄ±z? (isteÄe baÄlÄ±):');
                 
                 this.currentTest.status = 'failed';
                 this.currentTest.endTime = Date.now();
                 this.currentTest.duration = this.currentTest.endTime - this.currentTest.startTime;
                 this.currentTest.result = reason || 'Test baÅarÄ±sÄ±z';

                 this.testResults.push({ ...this.currentTest });
                 this.testSessions.push({ ...this.currentTest });
                 this.saveTestSessions();

                 showNotification('â Test baÅarÄ±sÄ±z olarak iÅaretlendi', 'error');
                 this.stopTest();
             }

             // Stop current test
             stopTest() {
                 if (this.currentTest) {
                     this.currentTest.status = 'stopped';
                     this.currentTest.endTime = Date.now();
                     this.currentTest = null;
                 }

                 // Remove test windows
                 const testWindows = document.querySelectorAll('.context-test-window, .context-test-overlay, .context-test-responsive');
                 testWindows.forEach(window => window.remove());

                 showNotification('â¹ï¸ Test durduruldu', 'info');
             }

             // Refresh current test
             refreshTest() {
                 if (!this.currentTest) return;

                 const iframe = document.getElementById('contextTestIframe');
                 if (iframe) {
                     iframe.src = iframe.src;
                 }

                 showNotification('ð Test yenilendi', 'info');
             }

             // Take screenshot (placeholder)
             takeScreenshot() {
                 showNotification('ð¸ Ekran gÃ¶rÃ¼ntÃ¼sÃ¼ alÄ±ndÄ± (simÃ¼lasyon)', 'info');
                 // In a real implementation, this would capture the test content
             }

             // Render test history
             renderTestHistory(variantId) {
                 const variantTests = this.testSessions.filter(test => test.variantId === variantId);
                 
                 if (variantTests.length === 0) {
                     return '<p class="context-test-no-history">HenÃ¼z test geÃ§miÅi yok</p>';
                 }

                 return variantTests.slice(-5).map(test => `
                     <div class="context-test-history-item">
                         <div class="context-test-history-info">
                             <span class="context-test-history-type">${test.type}</span>
                             <span class="context-test-history-status context-test-status-${test.status}">${test.status}</span>
                         </div>
                         <div class="context-test-history-time">
                             ${new Date(test.startTime).toLocaleString()}
                         </div>
                     </div>
                 `).join('');
             }

             // Get test statistics
             getTestStats() {
                 const total = this.testSessions.length;
                 const passed = this.testSessions.filter(t => t.status === 'passed').length;
                 const failed = this.testSessions.filter(t => t.status === 'failed').length;
                 const avgDuration = this.testSessions.reduce((sum, t) => sum + (t.duration || 0), 0) / total;

                 return {
                     total,
                     passed,
                     failed,
                     passRate: total > 0 ? Math.round((passed / total) * 100) : 0,
                     avgDuration: Math.round(avgDuration / 1000) // seconds
                 };
             }

             // Clear test history
             clearTestHistory() {
                 this.testSessions = [];
                 this.testResults = [];
                 this.saveTestSessions();
                 showNotification('ðï¸ Test geÃ§miÅi temizlendi', 'success');
             }
         }

         // ===== FILE SYSTEM INTEGRATION SYSTEM =====
         class FileSystemIntegrationManager {
             constructor() {
                 this.storageKey = 'hub-file-system-integration';
                 this.pendingPath = './pending/';
                 this.fileStructure = this.loadFileStructure();
                 this.scanResults = [];
                 this.lastScanTime = null;
                 this.autoScanInterval = null;
                 this.setupEventListeners();
                 console.log('ð File System Integration Manager initialized');
             }

             loadFileStructure() {
                 try {
                     const saved = localStorage.getItem(this.storageKey);
                     return saved ? JSON.parse(saved) : {
                         components: {},
                         variants: {},
                         lastUpdate: null,
                         totalFiles: 0
                     };
                 } catch (error) {
                     console.error('File structure loading error:', error);
                     return { components: {}, variants: {}, lastUpdate: null, totalFiles: 0 };
                 }
             }

             saveFileStructure() {
                 try {
                     localStorage.setItem(this.storageKey, JSON.stringify(this.fileStructure));
                 } catch (error) {
                     console.error('File structure saving error:', error);
                 }
             }

             setupEventListeners() {
                 // Keyboard shortcuts
                 document.addEventListener('keydown', (e) => {
                     if (e.ctrlKey && e.shiftKey && e.key === 'F') {
                         e.preventDefault();
                         this.showFileSystemModal();
                     }
                     if (e.ctrlKey && e.shiftKey && e.key === 'S') {
                         e.preventDefault();
                         this.scanPendingDirectory();
                     }
                 });
             }

             async scanPendingDirectory() {
                 try {
                     console.log('ð File System Integration: scanPendingDirectory() baÅlatÄ±ldÄ±');
                     console.log('ð Pending directory taranÄ±yor...');
                     this.showScanProgress();
                     
                     // Simulated file structure based on actual directory
                     const fileStructure = {
                         'hub-design': {
                             'level-1': [
                                 'variant-A-modern-minimal.html',
                                 'variant-B-colorful-playful.html',
                                 'variant-C-dark-elegant.html',
                                 'variant-D-professional-clean.html'
                             ]
                         },
                         'navbar': {
                             'level-1': [
                                 'dark-variant-A-glass-elite.html',
                                 'dark-variant-B-shadow-master.html',
                                 'dark-variant-C-neon-edge.html',
                                 'dark-variant-D-minimal-pro.html',
                                 'variant-A-modern-glassmorphism.html',
                                 'variant-B-minimal-clean.html',
                                 'variant-C-mobile-first-compact.html',
                                 'variant-D-professional-corporate.html'
                             ]
                         }
                     };

                     this.processFileStructure(fileStructure);
                     this.lastScanTime = new Date();
                     this.fileStructure.lastUpdate = this.lastScanTime.toISOString();
                     this.saveFileStructure();
                     
                     this.showNotification('â Dosya sistemi taramasÄ± tamamlandÄ±!', 'success');
                     this.updateFileSystemDisplay();
                     
                 } catch (error) {
                     console.error('Directory scan error:', error);
                     this.showNotification('â Dosya sistemi taramasÄ± baÅarÄ±sÄ±z!', 'error');
                 }
             }

             processFileStructure(structure) {
                 let totalFiles = 0;
                 
                 for (const [component, levels] of Object.entries(structure)) {
                     if (!this.fileStructure.components[component]) {
                         this.fileStructure.components[component] = {
                             name: component,
                             levels: {},
                             totalVariants: 0,
                             lastModified: new Date().toISOString()
                         };
                     }

                     for (const [level, files] of Object.entries(levels)) {
                         this.fileStructure.components[component].levels[level] = [];
                         
                         files.forEach(filename => {
                             const variant = this.parseVariantFromFilename(filename);
                             variant.component = component;
                             variant.level = level;
                             variant.filename = filename;
                             variant.path = `${this.pendingPath}${component}/${level}/${filename}`;
                             
                             this.fileStructure.components[component].levels[level].push(variant);
                             this.fileStructure.variants[variant.id] = variant;
                             totalFiles++;
                         });
                     }
                     
                     this.fileStructure.components[component].totalVariants = 
                         Object.values(this.fileStructure.components[component].levels)
                               .reduce((sum, levelVariants) => sum + levelVariants.length, 0);
                 }
                 
                 this.fileStructure.totalFiles = totalFiles;
                 this.syncWithComponentManager();
             }

             parseVariantFromFilename(filename) {
                 const nameWithoutExt = filename.replace('.html', '');
                 const parts = nameWithoutExt.split('-');
                 
                 let isDark = false;
                 let variantLetter = '';
                 let description = '';
                 
                 if (parts[0] === 'dark') {
                     isDark = true;
                     parts.shift();
                 }
                 
                 if (parts[0] && parts[0].startsWith('variant')) {
                     variantLetter = parts[0].split('-')[1] || parts[1] || 'A';
                     description = parts.slice(2).join(' ');
                 } else {
                     variantLetter = 'A';
                     description = parts.join(' ');
                 }

                 return {
                     id: `variant-${nameWithoutExt}`,
                     name: `Variant ${variantLetter.toUpperCase()}`,
                     description: description.replace(/-/g, ' ').replace(/\b\w/g, l => l.toUpperCase()),
                     isDark: isDark,
                     variantLetter: variantLetter.toUpperCase(),
                     type: variantLetter.toUpperCase(), // Add type field for compatibility
                     status: 'pending',
                     createdAt: new Date().toISOString(),
                     fileSize: 'Unknown',
                     lastModified: new Date().toISOString()
                 };
             }

             showFileSystemModal() {
                 const modal = document.createElement('div');
                 modal.className = 'file-system-modal';
                 modal.innerHTML = `
                     <div class="file-system-content">
                         <div class="file-system-header">
                             <h2>ð File System Integration</h2>
                             <button class="close-btn" onclick="this.closest('.file-system-modal').remove()">Ã</button>
                         </div>
                         <div class="file-system-body">
                             <div class="file-system-controls">
                                 <button onclick="fileSystemManager.scanPendingDirectory()" class="scan-btn">
                                     ð Pending KlasÃ¶rÃ¼nÃ¼ Tara
                                 </button>
                                 <button onclick="fileSystemManager.startAutoScan()" class="auto-scan-btn">
                                     ð Otomatik Tarama BaÅlat
                                 </button>
                                 <button onclick="fileSystemManager.stopAutoScan()" class="stop-scan-btn">
                                     â¹ï¸ Otomatik Tarama Durdur
                                 </button>
                                 <button onclick="fileSystemManager.exportFileStructure()" class="export-btn">
                                     ð¤ YapÄ±yÄ± DÄ±Åa Aktar
                                 </button>
                             </div>
                             <div class="file-system-stats">
                                 <div class="stat-card">
                                     <span class="stat-label">Toplam Dosya</span>
                                     <span class="stat-value">${this.fileStructure.totalFiles}</span>
                                 </div>
                                 <div class="stat-card">
                                     <span class="stat-label">BileÅen SayÄ±sÄ±</span>
                                     <span class="stat-value">${Object.keys(this.fileStructure.components).length}</span>
                                 </div>
                                 <div class="stat-card">
                                     <span class="stat-label">Son Tarama</span>
                                     <span class="stat-value">${this.lastScanTime ? this.lastScanTime.toLocaleString() : 'HenÃ¼z taranmadÄ±'}</span>
                                 </div>
                             </div>
                             <div class="file-system-display" id="fileSystemDisplay">
                                 ${this.renderFileStructure()}
                             </div>
                         </div>
                     </div>
                 `;
                 
                 document.body.appendChild(modal);
                 modal.addEventListener('click', (e) => {
                     if (e.target === modal) modal.remove();
                 });
             }

             renderFileStructure() {
                 if (Object.keys(this.fileStructure.components).length === 0) {
                     return '<div class="no-files">HenÃ¼z dosya taramasÄ± yapÄ±lmadÄ±. "Pending KlasÃ¶rÃ¼nÃ¼ Tara" butonuna tÄ±klayÄ±n.</div>';
                 }

                 let html = '<div class="file-tree">';
                 
                 for (const [componentName, component] of Object.entries(this.fileStructure.components)) {
                     html += `
                         <div class="component-node">
                             <div class="component-header" onclick="this.parentElement.classList.toggle('expanded')">
                                 <span class="expand-icon">ð</span>
                                 <span class="component-name">${componentName}</span>
                                 <span class="variant-count">(${component.totalVariants} varyant)</span>
                             </div>
                             <div class="component-levels">
                     `;
                     
                     for (const [levelName, variants] of Object.entries(component.levels)) {
                         html += `
                             <div class="level-node">
                                 <div class="level-header">
                                     <span class="level-icon">ð</span>
                                     <span class="level-name">${levelName}</span>
                                 </div>
                                 <div class="variant-list">
                         `;
                         
                         variants.forEach(variant => {
                             html += `
                                 <div class="variant-item ${variant.isDark ? 'dark-variant' : ''}">
                                     <span class="variant-icon">${variant.isDark ? 'ð' : 'âï¸'}</span>
                                     <span class="variant-name">${variant.name}</span>
                                     <span class="variant-desc">${variant.description}</span>
                                     <div class="variant-actions">
                                         <button onclick="fileSystemManager.previewVariant('${variant.path}')" class="preview-btn">ðï¸</button>
                                         <button onclick="fileSystemManager.integrateVariant('${variant.id}')" class="integrate-btn">ð</button>
                                         <button onclick="fileSystemManager.editVariant('${variant.path}')" class="edit-btn">âï¸</button>
                                     </div>
                                 </div>
                             `;
                         });
                         
                         html += `
                                 </div>
                             </div>
                         `;
                     }
                     
                     html += `
                             </div>
                         </div>
                     `;
                 }
                 
                 html += '</div>';
                 return html;
             }

             updateFileSystemDisplay() {
                 const display = document.getElementById('fileSystemDisplay');
                 if (display) {
                     display.innerHTML = this.renderFileStructure();
                 }
             }

             showScanProgress() {
                 const progress = document.createElement('div');
                 progress.className = 'scan-progress';
                 progress.innerHTML = `
                     <div class="progress-content">
                         <div class="progress-icon">ð</div>
                         <div class="progress-text">Pending klasÃ¶rÃ¼ taranÄ±yor...</div>
                         <div class="progress-bar">
                             <div class="progress-fill"></div>
                         </div>
                     </div>
                 `;
                 
                 document.body.appendChild(progress);
                 
                 setTimeout(() => {
                     progress.remove();
                 }, 2000);
             }

             previewVariant(path) {
                 window.open(path, '_blank');
             }

             integrateVariant(variantId) {
                 const variant = this.fileStructure.variants[variantId];
                 if (!variant) return;
                 
                 // Add to main HUB system
                 if (variantManager) {
                     variantManager.addVariantFromFile(variant);
                     this.showNotification(`â ${variant.name} HUB'a entegre edildi!`, 'success');
                 }
             }

             editVariant(path) {
                 // Open in new tab for editing
                 window.open(path, '_blank');
             }

             startAutoScan() {
                 if (this.autoScanInterval) {
                     this.stopAutoScan();
                 }
                 
                 this.autoScanInterval = setInterval(() => {
                     this.scanPendingDirectory();
                 }, 30000); // 30 seconds
                 
                 this.showNotification('ð Otomatik tarama baÅlatÄ±ldÄ± (30s aralÄ±k)', 'info');
             }

             stopAutoScan() {
                 if (this.autoScanInterval) {
                     clearInterval(this.autoScanInterval);
                     this.autoScanInterval = null;
                     this.showNotification('â¹ï¸ Otomatik tarama durduruldu', 'info');
                 }
             }

             exportFileStructure() {
                 const data = {
                     fileStructure: this.fileStructure,
                     exportDate: new Date().toISOString(),
                     version: '1.0'
                 };
                 
                 const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
                 const url = URL.createObjectURL(blob);
                 const a = document.createElement('a');
                 a.href = url;
                 a.download = `file-structure-${new Date().toISOString().split('T')[0]}.json`;
                 a.click();
                 URL.revokeObjectURL(url);
                 
                 this.showNotification('ð¤ Dosya yapÄ±sÄ± dÄ±Åa aktarÄ±ldÄ±!', 'success');
             }

             getFileSystemStats() {
                 return {
                     totalFiles: this.fileStructure.totalFiles,
                     totalComponents: Object.keys(this.fileStructure.components).length,
                     totalVariants: Object.keys(this.fileStructure.variants).length,
                     lastScan: this.lastScanTime,
                     autoScanActive: !!this.autoScanInterval
                 };
             }

             clearFileStructure() {
                 this.fileStructure = { components: {}, variants: {}, lastUpdate: null, totalFiles: 0 };
                 this.saveFileStructure();
                 this.updateFileSystemDisplay();
                 this.syncWithComponentManager();
                 this.showNotification('ðï¸ Dosya yapÄ±sÄ± temizlendi!', 'info');
             }

             syncWithComponentManager() {
                 console.log('ð File System Integration: syncWithComponentManager() baÅlatÄ±ldÄ±');
                 if (!window.componentManager) {
                     console.error('â componentManager bulunamadÄ±!');
                     return;
                 }
                 console.log('â componentManager bulundu, senkronizasyon baÅlÄ±yor...');
                 
                 const componentManager = window.componentManager;
                 
                 // Update existing components with file system data
                 for (const [componentName, fileData] of Object.entries(this.fileStructure.components)) {
                     const componentId = componentName.toLowerCase().replace(/[^a-z0-9]/g, '-');
                     
                     if (componentManager.components[componentId]) {
                         // Update existing component with file system variants
                         componentManager.components[componentId].variants = 
                             componentManager.components[componentId].variants || [];
                         
                         // Add file system variants to component
                         const fileVariants = Object.values(fileData.levels).flat();
                         fileVariants.forEach(variant => {
                             const existingVariant = componentManager.components[componentId].variants
                                 .find(v => v.id === variant.id);
                             
                             if (!existingVariant) {
                                 componentManager.components[componentId].variants.push({
                                     id: variant.id,
                                     name: variant.name,
                                     type: variant.type || 'A',
                                     level: parseInt(variant.level.replace('level-', '')) || 1,
                                     status: 'pending',
                                     filePath: variant.path,
                                     created: new Date().toISOString()
                                 });
                             }
                         });
                         
                         // Set component status to pending if it has file system variants
                         if (fileVariants.length > 0) {
                             componentManager.components[componentId].status = 'pending';
                         }
                         
                         componentManager.components[componentId].updated = new Date().toISOString();
                     } else {
                         // Create new component from file system data
                         componentManager.components[componentId] = {
                             id: componentId,
                             name: componentName.charAt(0).toUpperCase() + componentName.slice(1),
                             description: `${componentName} component with ${fileData.totalVariants} variants from file system`,
                             category: 'navigation',
                             status: 'pending',
                             variants: Object.values(fileData.levels).flat().map(variant => ({
                                 id: variant.id,
                                 name: variant.name,
                                 type: variant.type,
                                 level: variant.level,
                                 status: 'pending',
                                 filePath: variant.path,
                                 created: new Date().toISOString()
                             })),
                             created: new Date().toISOString(),
                             updated: new Date().toISOString()
                         };
                     }
                 }
                 
                 // Save and re-render
                 componentManager.saveToStorage();
                 componentManager.render();
                 updateStats(); // Update navbar counts
                 
                 console.log('ð File System Integration: ComponentManager synced with file system data');
                 console.log('ð Navbar sayÄ±larÄ± gÃ¼ncellendi - componentManager.render() ve updateStats() Ã§aÄrÄ±ldÄ±');
             }

             showNotification(message, type = 'info') {
                 const notification = document.createElement('div');
                 notification.className = `notification ${type}`;
                 notification.textContent = message;
                 
                 Object.assign(notification.style, {
                     position: 'fixed',
                     top: '20px',
                     right: '20px',
                     padding: '12px 20px',
                     borderRadius: '8px',
                     color: 'white',
                     fontWeight: 'bold',
                     zIndex: '10000',
                     animation: 'slideIn 0.3s ease-out',
                     backgroundColor: type === 'success' ? '#4CAF50' : 
                                    type === 'error' ? '#f44336' : 
                                    type === 'warning' ? '#ff9800' : '#2196F3'
                 });
                 
                 document.body.appendChild(notification);
                 setTimeout(() => notification.remove(), 3000);
             }
         }

         // Initialize managers
         let componentManager;
         let variantManager;
         let statePersistenceManager;
         let contextTestingManager;
         let fileSystemManager;

         // Enhanced DOMContentLoaded event
         document.addEventListener('DOMContentLoaded', function() {
             componentManager = new ComponentManager();
             window.componentManager = componentManager; // Make globally accessible
             window.variantManager = new VariantManager();
            variantManager = window.variantManager;
             statePersistenceManager = new StatePersistenceManager();
             contextTestingManager = new ContextTestingManager();
             fileSystemManager = new FileSystemIntegrationManager();
             
             console.log('ð¨ Interactive HUB yÃ¼klendi - Component & Variant Management aktif!');
             console.log('ð¡ Yeni Ã¶zellikler: Varyant yÃ¶netimi, dallanma sistemi, Ã¶nizleme');
             console.log('ð¾ State Persistence aktif - Scroll, search, view history korunuyor');
             console.log('ð§ª Context Testing aktif - VaryantlarÄ± gerÃ§ek sayfa Ã¼zerinde test edin');
             console.log('ð File System Integration aktif - Pending dosyalarÄ± otomatik entegre');
             
             // Auto-scan file system on load
             setTimeout(() => {
                 console.log('â° Otomatik dosya sistemi taramasÄ± baÅlatÄ±lÄ±yor...');
                 fileSystemManager.scanPendingDirectory();
             }, 1000);
         });

         // Show context test statistics
         function showContextTestStats() {
             if (!contextTestingManager) return;
             
             const stats = contextTestingManager.getTestStats();
             const message = `
ð Context Test Ä°statistikleri:
â¢ Toplam test: ${stats.total}
â¢ BaÅarÄ±lÄ±: ${stats.passed}
â¢ BaÅarÄ±sÄ±z: ${stats.failed}
â¢ BaÅarÄ± oranÄ±: %${stats.passRate}
â¢ Ortalama sÃ¼re: ${stats.avgDuration} saniye
             `;
             
             alert(message);
         }

         // Enhanced keyboard shortcuts
         document.addEventListener('keydown', function(e) {
             // Alt + Left Arrow = Back
             if (e.altKey && e.key === 'ArrowLeft') {
                 e.preventDefault();
                 goBack();
             }
             
             // Alt + Right Arrow = Forward
             if (e.altKey && e.key === 'ArrowRight') {
                 e.preventDefault();
                 goForward();
             }
             
             // Ctrl + K = Focus search
             if (e.ctrlKey && e.key === 'k') {
                 e.preventDefault();
                 const searchBox = document.querySelector('.search-box');
                 if (searchBox) {
                     searchBox.focus();
                     searchBox.select();
                 }
             }
             
             // Ctrl + T = Show test stats
             if (e.ctrlKey && e.key === 't') {
                 e.preventDefault();
                 showContextTestStats();
             }
             
             // Ctrl + Shift + Delete = Clear all state
             if (e.ctrlKey && e.shiftKey && e.key === 'Delete') {
                 e.preventDefault();
                 if (confirm('TÃ¼m kaydedilmiÅ state\'i temizlemek istediÄinizden emin misiniz?')) {
                     clearPersistentState('all');
                 }
             }
             
             // Escape = Stop current test
             if (e.key === 'Escape' && contextTestingManager?.currentTest) {
                 e.preventDefault();
                 contextTestingManager.stopTest();
             }
         });
     </script>
    
    <style>
        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            animation: fadeIn 0.3s ease;
        }
        
        .modal-content {
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            border-radius: 12px;
            padding: 0;
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 20px 40px rgba(0,0,0,0.5);
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        .modal-header {
            padding: 20px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-header h3 {
            margin: 0;
            color: #ffffff;
            font-size: 1.2rem;
        }
        
        .close-btn {
            background: none;
            border: none;
            color: #ffffff;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: background 0.3s ease;
        }
        
        .close-btn:hover {
            background: rgba(255,255,255,0.1);
        }
        
        .modal-form {
            padding: 20px;
        }
        
        .form-group {
            margin-bottom: 16px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 6px;
            color: #ffffff;
            font-weight: 500;
        }
        
        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 10px;
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 6px;
            background: rgba(255,255,255,0.05);
            color: #ffffff;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }
        
        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: #7877c6;
            box-shadow: 0 0 0 2px rgba(120, 119, 198, 0.2);
        }
        
        .form-group textarea {
            resize: vertical;
            min-height: 80px;
        }
        
        .modal-actions {
            display: flex;
            gap: 12px;
            justify-content: flex-end;
            margin-top: 24px;
        }
        
        .modal-actions button {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .modal-actions button[type="button"] {
            background: rgba(255,255,255,0.1);
            color: #ffffff;
        }
        
        .modal-actions button[type="button"]:hover {
            background: rgba(255,255,255,0.2);
        }
        
        .modal-actions button[type="submit"] {
            background: linear-gradient(135deg, #7877c6, #ff77c6);
            color: #ffffff;
        }
        
        .modal-actions button[type="submit"]:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(120, 119, 198, 0.4);
        }
        
        /* Enhanced Component Card Styles */
        .component-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 8px;
        }
        
        .component-actions {
            display: flex;
            gap: 4px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .component-card:hover .component-actions {
            opacity: 1;
        }
        
        .action-btn {
            background: none;
            border: none;
            padding: 4px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            transition: background 0.3s ease;
        }
        
        .action-btn:hover {
            background: rgba(255,255,255,0.1);
        }
        
        .edit-btn:hover {
            background: rgba(34, 197, 94, 0.2);
        }
        
        .delete-btn:hover {
            background: rgba(239, 68, 68, 0.2);
        }
        
        .component-meta {
            display: flex;
            justify-content: space-between;
            margin: 8px 0;
            font-size: 11px;
            color: rgba(255,255,255,0.6);
        }
        
        .component-buttons {
            display: flex;
            flex-direction: column;
            gap: 6px;
        }
        
        .variant-button {
            background: linear-gradient(135deg, rgba(34, 197, 94, 0.8), rgba(16, 185, 129, 0.8));
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 12px;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .variant-button:hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(34, 197, 94, 0.4);
        }
        
        /* Category Header Enhancement */
        .category-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
        }
        
        .add-component-btn {
            background: linear-gradient(135deg, rgba(120, 119, 198, 0.8), rgba(255, 119, 198, 0.8));
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 12px;
            font-weight: 500;
            margin-left: auto;
            transition: all 0.3s ease;
        }
        
        .add-component-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(120, 119, 198, 0.4);
        }
        
        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        @keyframes slideOut {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(100%); opacity: 0; }
        }
        
        /* Notification Styles */
        .notification {
            font-weight: 500;
            font-size: 14px;
        }

        /* ===== CONTEXT TESTING STYLES ===== */
        
        /* Context Test Modal */
        .context-test-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            backdrop-filter: blur(5px);
        }

        .context-test-container {
            background: white;
            border-radius: 16px;
            width: 90%;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .context-test-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 24px;
            border-bottom: 1px solid #e9ecef;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-radius: 16px 16px 0 0;
        }

        .context-test-header h3 {
            margin: 0;
            font-size: 18px;
            font-weight: 600;
        }

        .context-test-close {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
        }

        .context-test-close:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }

        .context-test-content {
            padding: 24px;
        }

        .context-test-info {
            margin-bottom: 24px;
        }

        .context-test-variant {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 8px;
        }

        .context-test-variant h4 {
            margin: 0;
            font-size: 16px;
            font-weight: 600;
            color: #2d3748;
        }

        .context-test-badge {
            padding: 4px 8px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 500;
            text-transform: uppercase;
        }

        .context-test-primary { background: #667eea; color: white; }
        .context-test-secondary { background: #e2e8f0; color: #4a5568; }
        .context-test-success { background: #48bb78; color: white; }
        .context-test-warning { background: #ed8936; color: white; }
        .context-test-error { background: #f56565; color: white; }

        .context-test-description {
            color: #718096;
            margin: 0;
            line-height: 1.5;
        }

        .context-test-options h5 {
            margin: 0 0 16px 0;
            font-size: 14px;
            font-weight: 600;
            color: #2d3748;
        }

        .context-test-environments {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 12px;
            margin-bottom: 24px;
        }

        .context-test-env-btn {
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 16px 12px;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
        }

        .context-test-env-btn:hover {
            border-color: #667eea;
            background: #f7fafc;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.15);
        }

        .context-test-env-icon {
            font-size: 24px;
            margin-bottom: 4px;
        }

        .context-test-env-title {
            font-weight: 600;
            font-size: 13px;
            color: #2d3748;
            margin-bottom: 2px;
        }

        .context-test-env-desc {
            font-size: 11px;
            color: #718096;
            line-height: 1.3;
        }

        .context-test-history h5 {
            margin: 0 0 12px 0;
            font-size: 14px;
            font-weight: 600;
            color: #2d3748;
        }

        .context-test-results {
            background: #f7fafc;
            border-radius: 8px;
            padding: 12px;
            max-height: 120px;
            overflow-y: auto;
        }

        .context-test-history-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #e2e8f0;
        }

        .context-test-history-item:last-child {
            border-bottom: none;
        }

        .context-test-history-info {
            display: flex;
            gap: 8px;
            align-items: center;
        }

        .context-test-history-type {
            background: #e2e8f0;
            color: #4a5568;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: 500;
        }

        .context-test-history-status {
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: 500;
        }

        .context-test-status-passed { background: #c6f6d5; color: #22543d; }
        .context-test-status-failed { background: #fed7d7; color: #742a2a; }
        .context-test-status-running { background: #bee3f8; color: #2a4365; }
        .context-test-status-stopped { background: #e2e8f0; color: #4a5568; }

        .context-test-history-time {
            font-size: 11px;
            color: #718096;
        }

        .context-test-no-history {
            text-align: center;
            color: #a0aec0;
            font-style: italic;
            margin: 0;
            padding: 16px;
        }

        /* Context Test Window */
        .context-test-window {
            position: fixed;
            top: 50px;
            left: 50px;
            width: calc(100% - 100px);
            height: calc(100% - 100px);
            background: white;
            border-radius: 12px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            z-index: 9999;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .context-test-window-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 16px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .context-test-window-title {
            font-weight: 600;
            font-size: 14px;
        }

        .context-test-window-controls {
            display: flex;
            gap: 8px;
        }

        .context-test-window-controls button {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            width: 28px;
            height: 28px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.2s ease;
        }

        .context-test-window-controls button:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }

        .context-test-iframe-container {
            flex: 1;
            background: #f8f9fa;
            position: relative;
        }

        .context-test-iframe {
            width: 100%;
            height: 100%;
            border: none;
            background: white;
        }

        .context-test-window-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 16px;
            background: #f8f9fa;
            border-top: 1px solid #e9ecef;
        }

        .context-test-status {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 13px;
            color: #6c757d;
        }

        .context-test-status-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        .context-test-status-indicator.running {
            background: #28a745;
        }

        .context-test-actions {
            display: flex;
            gap: 8px;
        }

        .context-test-btn {
            padding: 6px 12px;
            border: none;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .context-test-btn.success {
            background: #28a745;
            color: white;
        }

        .context-test-btn.success:hover {
            background: #218838;
            transform: translateY(-1px);
        }

        .context-test-btn.error {
            background: #dc3545;
            color: white;
        }

        .context-test-btn.error:hover {
            background: #c82333;
            transform: translateY(-1px);
        }

        /* Context Test Overlay */
        .context-test-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            backdrop-filter: blur(5px);
        }

        .context-test-overlay-content {
            background: white;
            border-radius: 16px;
            width: 90%;
            max-width: 800px;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .context-test-overlay-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 24px;
            border-bottom: 1px solid #e9ecef;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-radius: 16px 16px 0 0;
        }

        .context-test-overlay-header h3 {
            margin: 0;
            font-size: 18px;
            font-weight: 600;
        }

        .context-test-overlay-close {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 18px;
            transition: all 0.2s ease;
        }

        .context-test-overlay-close:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }

        .context-test-overlay-body {
            padding: 24px;
        }

        .context-test-overlay-footer {
            display: flex;
            justify-content: center;
            gap: 12px;
            padding: 20px 24px;
            border-top: 1px solid #e9ecef;
            background: #f8f9fa;
            border-radius: 0 0 16px 16px;
        }

        /* Context Test Responsive */
        .context-test-responsive {
            position: fixed;
            top: 20px;
            left: 20px;
            width: calc(100% - 40px);
            height: calc(100% - 40px);
            background: white;
            border-radius: 12px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            z-index: 9999;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .context-test-responsive-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px 20px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .context-test-responsive-header h3 {
            margin: 0;
            font-size: 16px;
            font-weight: 600;
        }

        .context-test-responsive-controls {
            display: flex;
            gap: 12px;
            align-items: center;
        }

        .context-test-viewport-select {
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 13px;
            cursor: pointer;
        }

        .context-test-viewport-select option {
            background: #2d3748;
            color: white;
        }

        .context-test-responsive-close {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 18px;
            transition: all 0.2s ease;
        }

        .context-test-responsive-close:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }

        .context-test-responsive-viewport {
            flex: 1;
            background: #f8f9fa;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            padding: 20px;
            overflow: auto;
            transition: all 0.3s ease;
        }

        .context-test-responsive-content {
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 1200px;
            transition: all 0.3s ease;
        }

        .context-test-responsive-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 20px;
            background: #f8f9fa;
            border-top: 1px solid #e9ecef;
        }

        .context-test-responsive-info {
            font-size: 13px;
            color: #6c757d;
            font-weight: 500;
        }

        .context-test-responsive-actions {
            display: flex;
            gap: 8px;
        }

        /* Animations */
        @keyframes contextTestFadeIn {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .context-test-container {
                width: 95%;
                margin: 20px;
            }

            .context-test-environments {
                grid-template-columns: repeat(2, 1fr);
            }

            .context-test-window {
                top: 20px;
                left: 20px;
                width: calc(100% - 40px);
                height: calc(100% - 40px);
            }

            .context-test-responsive {
                top: 10px;
                left: 10px;
                width: calc(100% - 20px);
                height: calc(100% - 20px);
            }

            .context-test-responsive-viewport {
                padding: 10px;
            }
        }

        @media (max-width: 480px) {
            .context-test-environments {
                grid-template-columns: 1fr;
            }

            .context-test-env-btn {
                padding: 12px 8px;
            }

            .context-test-responsive-controls {
                flex-direction: column;
                gap: 8px;
            }

            .context-test-viewport-select {
                width: 100%;
            }
        }

        /* ===== FILE SYSTEM INTEGRATION STYLES ===== */
        .file-system-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            animation: fadeIn 0.3s ease-out;
        }

        .file-system-content {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 20px;
            width: 90%;
            max-width: 1200px;
            max-height: 90vh;
            overflow: hidden;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
            animation: slideIn 0.4s ease-out;
        }

        .file-system-header {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }

        .file-system-header h2 {
            color: white;
            margin: 0;
            font-size: 24px;
            font-weight: 600;
        }

        .file-system-body {
            padding: 30px;
            max-height: calc(90vh - 100px);
            overflow-y: auto;
        }

        .file-system-controls {
            display: flex;
            gap: 15px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .file-system-controls button {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            padding: 12px 20px;
            border-radius: 10px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .file-system-controls button:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .file-system-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .stat-label {
            display: block;
            color: rgba(255, 255, 255, 0.8);
            font-size: 14px;
            margin-bottom: 8px;
        }

        .stat-value {
            display: block;
            color: white;
            font-size: 24px;
            font-weight: bold;
        }

        .file-system-display {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .no-files {
            text-align: center;
            color: rgba(255, 255, 255, 0.7);
            padding: 40px;
            font-size: 16px;
        }

        .file-tree {
            color: white;
        }

        .component-node {
            margin-bottom: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            overflow: hidden;
        }

        .component-header {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s ease;
        }

        .component-header:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .component-name {
            font-weight: 600;
            font-size: 16px;
        }

        .variant-count {
            color: rgba(255, 255, 255, 0.7);
            font-size: 14px;
        }

        .component-levels {
            display: none;
            padding: 0 20px 20px;
        }

        .component-node.expanded .component-levels {
            display: block;
        }

        .component-node.expanded .expand-icon {
            transform: rotate(90deg);
        }

        .expand-icon {
            transition: transform 0.3s ease;
        }

        .level-node {
            margin: 15px 0;
            padding-left: 20px;
        }

        .level-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 10px;
            color: rgba(255, 255, 255, 0.9);
            font-weight: 500;
        }

        .variant-list {
            padding-left: 20px;
        }

        .variant-item {
            background: rgba(255, 255, 255, 0.05);
            margin: 8px 0;
            padding: 12px 15px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            gap: 12px;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .variant-item:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateX(5px);
        }

        .variant-item.dark-variant {
            border-left: 4px solid #6c5ce7;
        }

        .variant-name {
            font-weight: 600;
            min-width: 80px;
        }

        .variant-desc {
            flex: 1;
            color: rgba(255, 255, 255, 0.8);
            font-size: 14px;
        }

        .variant-actions {
            display: flex;
            gap: 8px;
        }

        .variant-actions button {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            padding: 6px 10px;
            border-radius: 6px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 12px;
        }

        .variant-actions button:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }

        .preview-btn:hover {
            background: rgba(52, 152, 219, 0.8) !important;
        }

        .integrate-btn:hover {
            background: rgba(46, 204, 113, 0.8) !important;
        }

        .edit-btn:hover {
            background: rgba(241, 196, 15, 0.8) !important;
        }

        .scan-progress {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.9);
            padding: 30px;
            border-radius: 15px;
            z-index: 10001;
            color: white;
            text-align: center;
            backdrop-filter: blur(10px);
        }

        .progress-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }

        .progress-icon {
            font-size: 48px;
            animation: pulse 1.5s infinite;
        }

        .progress-text {
            font-size: 16px;
            font-weight: 500;
        }

        .progress-bar {
            width: 200px;
            height: 4px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 2px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            width: 0%;
            animation: progressFill 2s ease-in-out infinite;
        }

        @keyframes progressFill {
            0% { width: 0%; }
            50% { width: 70%; }
            100% { width: 100%; }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        /* File System Integration Responsive Design */
        @media (max-width: 768px) {
            .file-system-content {
                width: 95%;
                margin: 20px;
            }

            .file-system-controls {
                flex-direction: column;
            }

            .file-system-controls button {
                width: 100%;
            }

            .file-system-stats {
                grid-template-columns: 1fr;
            }

            .variant-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 8px;
            }

            .variant-actions {
                width: 100%;
                justify-content: flex-end;
            }
        }
    </style>
</body>
</html>